"use strict";var de=Object.defineProperty,_e=Object.defineProperties,pe=Object.getOwnPropertyDescriptors,ce=Object.getOwnPropertySymbols,he=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable,ue=(G,R,e)=>R in G?de(G,R,{enumerable:!0,configurable:!0,writable:!0,value:e}):G[R]=e,X=(G,R)=>{for(var e in R||(R={}))he.call(R,e)&&ue(G,e,R[e]);if(ce)for(var e of ce(R))fe.call(R,e)&&ue(G,e,R[e]);return G},se=(G,R)=>_e(G,pe(R));(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{67160:(G,R,e)=>{e.d(R,{c:()=>E});var o=e(32361),c=e(87683),h=e(33139);const E=(O,f)=>{let a,s;const v=(p,g,_)=>{if("undefined"==typeof document)return;const r=document.elementFromPoint(p,g);r&&f(r)?r!==a&&(i(),d(r,_)):i()},d=(p,g)=>{a=p,s||(s=a);const _=a;(0,o.c)(()=>_.classList.add("ion-activated")),g()},i=(p=!1)=>{if(!a)return;const g=a;(0,o.c)(()=>g.classList.remove("ion-activated")),p&&s!==a&&a.click(),a=void 0};return(0,h.createGesture)({el:O,gestureName:"buttonActiveDrag",threshold:0,onStart:p=>v(p.currentX,p.currentY,c.a),onMove:p=>v(p.currentX,p.currentY,c.b),onEnd:()=>{i(!0),(0,c.h)(),s=void 0}})}},88685:(G,R,e)=>{e.d(R,{g:()=>o});const o=(f,a,s,v,d)=>h(f[1],a[1],s[1],v[1],d).map(i=>c(f[0],a[0],s[0],v[0],i)),c=(f,a,s,v,d)=>d*(3*a*Math.pow(d-1,2)+d*(-3*s*d+3*s+v*d))-f*Math.pow(d-1,3),h=(f,a,s,v,d)=>O((v-=d)-3*(s-=d)+3*(a-=d)-(f-=d),3*s-6*a+3*f,3*a-3*f,f).filter(p=>p>=0&&p<=1),O=(f,a,s,v)=>{if(0===f)return((f,a,s)=>{const v=a*a-4*f*s;return v<0?[]:[(-a+Math.sqrt(v))/(2*f),(-a-Math.sqrt(v))/(2*f)]})(a,s,v);const d=(3*(s/=f)-(a/=f)*a)/3,i=(2*a*a*a-9*a*s+27*(v/=f))/27;if(0===d)return[Math.pow(-i,1/3)];if(0===i)return[Math.sqrt(-d),-Math.sqrt(-d)];const p=Math.pow(i/2,2)+Math.pow(d/3,3);if(0===p)return[Math.pow(i/2,.5)-a/3];if(p>0)return[Math.pow(-i/2+Math.sqrt(p),1/3)-Math.pow(i/2+Math.sqrt(p),1/3)-a/3];const g=Math.sqrt(Math.pow(-d/3,3)),_=Math.acos(-i/(2*Math.sqrt(Math.pow(-d/3,3)))),r=2*Math.pow(g,1/3);return[r*Math.cos(_/3)-a/3,r*Math.cos((_+2*Math.PI)/3)-a/3,r*Math.cos((_+4*Math.PI)/3)-a/3]}},75062:(G,R,e)=>{e.d(R,{i:()=>o});const o=c=>c&&""!==c.dir?"rtl"===c.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},11112:(G,R,e)=>{e.r(R),e.d(R,{startFocusVisible:()=>E});const o="ion-focused",h=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],E=O=>{let f=[],a=!0;const s=O?O.shadowRoot:document,v=O||document.body,d=C=>{f.forEach(D=>D.classList.remove(o)),C.forEach(D=>D.classList.add(o)),f=C},i=()=>{a=!1,d([])},p=C=>{a=h.includes(C.key),a||d([])},g=C=>{if(a&&C.composedPath){const D=C.composedPath().filter(y=>!!y.classList&&y.classList.contains("ion-focusable"));d(D)}},_=()=>{s.activeElement===v&&d([])};return s.addEventListener("keydown",p),s.addEventListener("focusin",g),s.addEventListener("focusout",_),s.addEventListener("touchstart",i),s.addEventListener("mousedown",i),{destroy:()=>{s.removeEventListener("keydown",p),s.removeEventListener("focusin",g),s.removeEventListener("focusout",_),s.removeEventListener("touchstart",i),s.removeEventListener("mousedown",i)},setFocus:d}}},1878:(G,R,e)=>{e.d(R,{C:()=>O,a:()=>h,d:()=>E});var o=e(15861),c=e(23756);const h=function(){var f=(0,o.Z)(function*(a,s,v,d,i,p){var g;if(a)return a.attachViewToDom(s,v,i,d);if(!(p||"string"==typeof v||v instanceof HTMLElement))throw new Error("framework delegate is missing");const _="string"==typeof v?null===(g=s.ownerDocument)||void 0===g?void 0:g.createElement(v):v;return d&&d.forEach(r=>_.classList.add(r)),i&&Object.assign(_,i),s.appendChild(_),yield new Promise(r=>(0,c.c)(_,r)),_});return function(s,v,d,i,p,g){return f.apply(this,arguments)}}(),E=(f,a)=>{if(a){if(f)return f.removeViewFromDom(a.parentElement,a);a.remove()}return Promise.resolve()},O=()=>{let f,a;return{attachViewToDom:function(){var d=(0,o.Z)(function*(i,p,g={},_=[]){var r,C;if(f=i,p){const y="string"==typeof p?null===(r=f.ownerDocument)||void 0===r?void 0:r.createElement(p):p;_.forEach(l=>y.classList.add(l)),Object.assign(y,g),f.appendChild(y),yield new Promise(l=>(0,c.c)(y,l))}else if(f.children.length>0){const y=null===(C=f.ownerDocument)||void 0===C?void 0:C.createElement("div");_.forEach(l=>y.classList.add(l)),y.append(...f.children),f.appendChild(y)}const D=document.querySelector("ion-app")||document.body;return a=document.createComment("ionic teleport"),f.parentNode.insertBefore(a,f),D.appendChild(f),f});return function(p,g){return d.apply(this,arguments)}}(),removeViewFromDom:()=>(f&&a&&(a.parentNode.insertBefore(f,a),a.remove()),Promise.resolve())}}},87683:(G,R,e)=>{e.d(R,{a:()=>h,b:()=>E,c:()=>c,d:()=>f,h:()=>O});const o={getEngine(){var a;const s=window;return s.TapticEngine||(null===(a=s.Capacitor)||void 0===a?void 0:a.isPluginAvailable("Haptics"))&&s.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(a){const s=this.getEngine();if(!s)return;const v=this.isCapacitor()?a.style.toUpperCase():a.style;s.impact({style:v})},notification(a){const s=this.getEngine();if(!s)return;const v=this.isCapacitor()?a.style.toUpperCase():a.style;s.notification({style:v})},selection(){this.impact({style:"light"})},selectionStart(){const a=this.getEngine();!a||(this.isCapacitor()?a.selectionStart():a.gestureSelectionStart())},selectionChanged(){const a=this.getEngine();!a||(this.isCapacitor()?a.selectionChanged():a.gestureSelectionChanged())},selectionEnd(){const a=this.getEngine();!a||(this.isCapacitor()?a.selectionEnd():a.gestureSelectionEnd())}},c=()=>{o.selection()},h=()=>{o.selectionStart()},E=()=>{o.selectionChanged()},O=()=>{o.selectionEnd()},f=a=>{o.impact(a)}},77351:(G,R,e)=>{e.d(R,{a:()=>d,b:()=>g,f:()=>i,g:()=>v,p:()=>_,s:()=>p});var o=e(15861),c=e(23756),h=e(77208);const O="ion-content",f=".ion-content-scroll-host",a=`${O}, ${f}`,s=r=>r&&"ION-CONTENT"===r.tagName,v=function(){var r=(0,o.Z)(function*(C){return s(C)?(yield new Promise(D=>(0,c.c)(C,D)),C.getScrollElement()):C});return function(D){return r.apply(this,arguments)}}(),d=r=>r.querySelector(f)||r.querySelector(a),i=r=>r.closest(a),p=(r,C)=>s(r)?r.scrollToTop(C):Promise.resolve(r.scrollTo({top:0,left:0,behavior:C>0?"smooth":"auto"})),g=(r,C,D,y)=>s(r)?r.scrollByPoint(C,D,y):Promise.resolve(r.scrollBy({top:D,left:C,behavior:y>0?"smooth":"auto"})),_=r=>(0,h.a)(r,O)},77208:(G,R,e)=>{e.d(R,{a:()=>h,b:()=>c,p:()=>o});const o=E=>console.warn(`[Ionic Warning]: ${E}`),c=(E,...O)=>console.error(`[Ionic Error]: ${E}`,...O),h=(E,...O)=>console.error(`<${E.tagName.toLowerCase()}> must be used inside ${O.join(" or ")}.`)},28439:(G,R,e)=>{e.d(R,{s:()=>o});const o=s=>{try{if(s instanceof class a{constructor(v){this.value=v}})return s.value;if(!E()||"string"!=typeof s||""===s)return s;const v=document.createDocumentFragment(),d=document.createElement("div");v.appendChild(d),d.innerHTML=s,f.forEach(_=>{const r=v.querySelectorAll(_);for(let C=r.length-1;C>=0;C--){const D=r[C];D.parentNode?D.parentNode.removeChild(D):v.removeChild(D);const y=h(D);for(let l=0;l<y.length;l++)c(y[l])}});const i=h(v);for(let _=0;_<i.length;_++)c(i[_]);const p=document.createElement("div");p.appendChild(v);const g=p.querySelector("div");return null!==g?g.innerHTML:p.innerHTML}catch(v){return console.error(v),""}},c=s=>{if(s.nodeType&&1!==s.nodeType)return;for(let d=s.attributes.length-1;d>=0;d--){const i=s.attributes.item(d),p=i.name;if(!O.includes(p.toLowerCase())){s.removeAttribute(p);continue}const g=i.value;null!=g&&g.toLowerCase().includes("javascript:")&&s.removeAttribute(p)}const v=h(s);for(let d=0;d<v.length;d++)c(v[d])},h=s=>null!=s.children?s.children:s.childNodes,E=()=>{var s;const v=window,d=null===(s=null==v?void 0:v.Ionic)||void 0===s?void 0:s.config;return!d||(d.get?d.get("sanitizerEnabled",!0):!0===d.sanitizerEnabled||void 0===d.sanitizerEnabled)},O=["class","id","href","src","name","slot"],f=["script","style","iframe","meta","link","object","embed"]},48117:(G,R,e)=>{e.d(R,{a:()=>o,b:()=>i,c:()=>f,d:()=>p,e:()=>l,f:()=>h,g:()=>c,h:()=>D,i:()=>a,j:()=>v,k:()=>g,l:()=>s,m:()=>O,n:()=>E,o:()=>d,p:()=>_,q:()=>r,r:()=>C,s:()=>y});const o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Back</title><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",E="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",O="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",C="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Three</title><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",D="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Two</title><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",y="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},51316:(G,R,e)=>{e.r(R),e.d(R,{KEYBOARD_DID_CLOSE:()=>c,KEYBOARD_DID_OPEN:()=>o,copyVisualViewport:()=>y,keyboardDidClose:()=>_,keyboardDidOpen:()=>p,keyboardDidResize:()=>g,resetKeyboardAssist:()=>a,setKeyboardClose:()=>i,setKeyboardOpen:()=>d,startKeyboardAssist:()=>s,trackViewportChanges:()=>D});const o="ionKeyboardDidShow",c="ionKeyboardDidHide";let E={},O={},f=!1;const a=()=>{E={},O={},f=!1},s=l=>{v(l),l.visualViewport&&(O=y(l.visualViewport),l.visualViewport.onresize=()=>{D(l),p()||g(l)?d(l):_(l)&&i(l)})},v=l=>{l.addEventListener("keyboardDidShow",m=>d(l,m)),l.addEventListener("keyboardDidHide",()=>i(l))},d=(l,m)=>{r(l,m),f=!0},i=l=>{C(l),f=!1},p=()=>!f&&E.width===O.width&&(E.height-O.height)*O.scale>150,g=l=>f&&!_(l),_=l=>f&&O.height===l.innerHeight,r=(l,m)=>{const L=new CustomEvent(o,{detail:{keyboardHeight:m?m.keyboardHeight:l.innerHeight-O.height}});l.dispatchEvent(L)},C=l=>{const m=new CustomEvent(c);l.dispatchEvent(m)},D=l=>{E=Object.assign({},O),O=y(l.visualViewport)},y=l=>({width:Math.round(l.width),height:Math.round(l.height),offsetTop:l.offsetTop,offsetLeft:l.offsetLeft,pageTop:l.pageTop,pageLeft:l.pageLeft,scale:l.scale})},17741:(G,R,e)=>{e.d(R,{S:()=>c});const c={bubbles:{dur:1e3,circles:9,fn:(h,E,O)=>{const f=h*E/O-h+"ms",a=2*Math.PI*E/O;return{r:5,style:{top:9*Math.sin(a)+"px",left:9*Math.cos(a)+"px","animation-delay":f}}}},circles:{dur:1e3,circles:8,fn:(h,E,O)=>{const f=E/O,a=h*f-h+"ms",s=2*Math.PI*f;return{r:5,style:{top:9*Math.sin(s)+"px",left:9*Math.cos(s)+"px","animation-delay":a}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(h,E)=>({r:6,style:{left:9-9*E+"px","animation-delay":-110*E+"ms"}})},lines:{dur:1e3,lines:8,fn:(h,E,O)=>({y1:14,y2:26,style:{transform:`rotate(${360/O*E+(E<O/2?180:-180)}deg)`,"animation-delay":h*E/O-h+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(h,E,O)=>({y1:12,y2:20,style:{transform:`rotate(${360/O*E+(E<O/2?180:-180)}deg)`,"animation-delay":h*E/O-h+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(h,E,O)=>({y1:17,y2:29,style:{transform:`rotate(${30*E+(E<6?180:-180)}deg)`,"animation-delay":h*E/O-h+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(h,E,O)=>({y1:12,y2:20,style:{transform:`rotate(${30*E+(E<6?180:-180)}deg)`,"animation-delay":h*E/O-h+"ms"}})}}},36546:(G,R,e)=>{e.r(R),e.d(R,{createSwipeBackGesture:()=>O});var o=e(23756),c=e(75062),h=e(33139);e(43509);const O=(f,a,s,v,d)=>{const i=f.ownerDocument.defaultView,p=(0,c.i)(f),_=l=>p?-l.deltaX:l.deltaX;return(0,h.createGesture)({el:f,gestureName:"goback-swipe",gesturePriority:40,threshold:10,canStart:l=>(l=>{const{startX:P}=l;return p?P>=i.innerWidth-50:P<=50})(l)&&a(),onStart:s,onMove:l=>{const P=_(l)/i.innerWidth;v(P)},onEnd:l=>{const m=_(l),P=i.innerWidth,L=m/P,I=(l=>p?-l.velocityX:l.velocityX)(l),N=I>=0&&(I>.2||m>P/2),T=(N?1-L:L)*P;let U=0;if(T>5){const S=T/Math.abs(I);U=Math.min(S,540)}d(N,L<=0?.01:(0,o.l)(0,L,.9999),U)}})}},92854:(G,R,e)=>{e.d(R,{c:()=>h,g:()=>O,h:()=>c,o:()=>a});var o=e(15861);const c=(s,v)=>null!==v.closest(s),h=(s,v)=>"string"==typeof s&&s.length>0?Object.assign({"ion-color":!0,[`ion-color-${s}`]:!0},v):v,O=s=>{const v={};return(s=>void 0!==s?(Array.isArray(s)?s:s.split(" ")).filter(d=>null!=d).map(d=>d.trim()).filter(d=>""!==d):[])(s).forEach(d=>v[d]=!0),v},f=/^[a-z][a-z0-9+\-.]*:/,a=function(){var s=(0,o.Z)(function*(v,d,i,p){if(null!=v&&"#"!==v[0]&&!f.test(v)){const g=document.querySelector("ion-router");if(g)return null!=d&&d.preventDefault(),g.push(v,i,p)}return!1});return function(d,i,p,g){return s.apply(this,arguments)}}()},7006:(G,R,e)=>{e.d(R,{A:()=>U,B:()=>S,C:()=>b,D:()=>w,E:()=>Z,F:()=>W,G:()=>V,H:()=>K,I:()=>F,J:()=>Q,K:()=>H,a:()=>O,b:()=>f,c:()=>E,d:()=>a,e:()=>h,f:()=>s,g:()=>re,h:()=>v,i:()=>d,j:()=>g,k:()=>C,l:()=>y,m:()=>l,n:()=>m,o:()=>_,p:()=>P,q:()=>I,r:()=>r,s:()=>D,t:()=>i,u:()=>L,v:()=>x,w:()=>p,x:()=>N,y:()=>B,z:()=>T});var o=e(4918),c=e(15994);function h(M){return o.G.extendedSpatialReferenceInfo(M)}function E(M,A,j){return o.G.clip(c.N,M,A,j)}function O(M,A,j){return o.G.cut(c.N,M,A,j)}function f(M,A,j){return o.G.contains(c.N,M,A,j)}function a(M,A,j){return o.G.crosses(c.N,M,A,j)}function s(M,A,j,z){return o.G.distance(c.N,M,A,j,z)}function v(M,A,j){return o.G.equals(c.N,M,A,j)}function d(M,A,j){return o.G.intersects(c.N,M,A,j)}function i(M,A,j){return o.G.touches(c.N,M,A,j)}function p(M,A,j){return o.G.within(c.N,M,A,j)}function g(M,A,j){return o.G.disjoint(c.N,M,A,j)}function _(M,A,j){return o.G.overlaps(c.N,M,A,j)}function r(M,A,j,z){return o.G.relate(c.N,M,A,j,z)}function C(M,A){return o.G.isSimple(c.N,M,A)}function D(M,A){return o.G.simplify(c.N,M,A)}function y(M,A,j=!1){return o.G.convexHull(c.N,M,A,j)}function l(M,A,j){return o.G.difference(c.N,M,A,j)}function m(M,A,j){return o.G.symmetricDifference(c.N,M,A,j)}function P(M,A,j){return o.G.intersect(c.N,M,A,j)}function L(M,A,j=null){return o.G.union(c.N,M,A,j)}function I(M,A,j,z,J,q,k){return o.G.offset(c.N,M,A,j,z,J,q,k)}function x(M,A,j,z,J=!1){return o.G.buffer(c.N,M,A,j,z,J)}function N(M,A,j,z,J,q,k){return o.G.geodesicBuffer(c.N,M,A,j,z,J,q,k)}function B(M,A,j,z=!0){return o.G.nearestCoordinate(c.N,M,A,j,z)}function T(M,A,j){return o.G.nearestVertex(c.N,M,A,j)}function U(M,A,j,z,J){return o.G.nearestVertices(c.N,M,A,j,z,J)}function S(M,A,j,z){if(null==A||null==z)throw new Error("Illegal Argument Exception");const J=o.G.rotate(A,j,z);return J.spatialReference=M,J}function b(M,A,j){if(null==A||null==j)throw new Error("Illegal Argument Exception");const z=o.G.flipHorizontal(A,j);return z.spatialReference=M,z}function w(M,A,j){if(null==A||null==j)throw new Error("Illegal Argument Exception");const z=o.G.flipVertical(A,j);return z.spatialReference=M,z}function Z(M,A,j,z,J){return o.G.generalize(c.N,M,A,j,z,J)}function W(M,A,j,z){return o.G.densify(c.N,M,A,j,z)}function V(M,A,j,z,J=0){return o.G.geodesicDensify(c.N,M,A,j,z,J)}function K(M,A,j){return o.G.planarArea(c.N,M,A,j)}function F(M,A,j){return o.G.planarLength(c.N,M,A,j)}function Q(M,A,j,z){return o.G.geodesicArea(c.N,M,A,j,z)}function H(M,A,j,z){return o.G.geodesicLength(c.N,M,A,j,z)}const re=Object.freeze({__proto__:null,extendedSpatialReferenceInfo:h,clip:E,cut:O,contains:f,crosses:a,distance:s,equals:v,intersects:d,touches:i,within:p,disjoint:g,overlaps:_,relate:r,isSimple:C,simplify:D,convexHull:y,difference:l,symmetricDifference:m,intersect:P,union:L,offset:I,buffer:x,geodesicBuffer:N,nearestCoordinate:B,nearestVertex:T,nearestVertices:U,rotate:S,flipHorizontal:b,flipVertical:w,generalize:Z,densify:W,geodesicDensify:V,planarArea:K,planarLength:F,geodesicArea:Q,geodesicLength:H})},65389:(G,R,e)=>{e.d(R,{Z:()=>c});var o=e(62208);class c{constructor(E){this.size=0,this._start=0,this.maxSize=E,this._buffer=new Array(E)}get entries(){return this._buffer}enqueue(E){if(this.size===this.maxSize){const O=this._buffer[this._start];return this._buffer[this._start]=E,this._start=(this._start+1)%this.maxSize,O}return this._buffer[(this._start+this.size++)%this.maxSize]=E,null}dequeue(){if(0===this.size)return null;const E=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,E}peek(){return 0===this.size?null:this._buffer[this._start]}find(E){if(0===this.size)return null;for(const O of this._buffer)if((0,o.pC)(O)&&E(O))return O;return null}clear(E){let O=this.dequeue();for(;(0,o.pC)(O);)E&&E(O),O=this.dequeue()}}},77777:(G,R,e)=>{e.r(R),e.d(R,{hydratedAdapter:()=>f});var o=e(2004),c=e(72854),h=e(49672),E=e(37118),O=e(55214);const f={convertToGEGeometry:function a(g,_){if(null==_)return null;let r="cache"in _?_.cache._geVersion:void 0;return null==r&&(r=g.convertJSONToGeometry(_),"cache"in _&&(_.cache._geVersion=r)),r},exportPoint:function s(g,_,r){const C=g.hasZ(_),D=g.hasM(_),y=new h.Z({x:g.getPointX(_),y:g.getPointY(_),spatialReference:r});return C&&(y.z=g.getPointZ(_)),D&&(y.m=g.getPointM(_)),y.cache._geVersion=_,y},exportPolygon:function v(g,_,r){const C=new E.Z({rings:g.exportPaths(_),hasZ:g.hasZ(_),hasM:g.hasM(_),spatialReference:r});return C.cache._geVersion=_,C},exportPolyline:function d(g,_,r){const C=new O.Z({paths:g.exportPaths(_),hasZ:g.hasZ(_),hasM:g.hasM(_),spatialReference:r});return C.cache._geVersion=_,C},exportMultipoint:function i(g,_,r){const C=new c.Z({hasZ:g.hasZ(_),hasM:g.hasM(_),points:g.exportPoints(_),spatialReference:r});return C.cache._geVersion=_,C},exportExtent:function p(g,_,r){const C=g.hasZ(_),D=g.hasM(_),y=new o.Z({xmin:g.getXMin(_),ymin:g.getYMin(_),xmax:g.getXMax(_),ymax:g.getYMax(_),spatialReference:r});if(C){const l=g.getZExtent(_);y.zmin=l.vmin,y.zmax=l.vmax}if(D){const l=g.getMExtent(_);y.mmin=l.vmin,y.mmax=l.vmax}return y.cache._geVersion=_,y}}},32825:(G,R,e)=>{e.r(R),e.d(R,{buffer:()=>h.v,clip:()=>h.c,contains:()=>h.b,convexHull:()=>h.l,crosses:()=>h.d,cut:()=>h.a,densify:()=>h.F,difference:()=>h.m,disjoint:()=>h.j,distance:()=>h.f,equals:()=>h.h,extendedSpatialReferenceInfo:()=>h.e,flipHorizontal:()=>h.C,flipVertical:()=>h.D,generalize:()=>h.E,geodesicArea:()=>h.J,geodesicBuffer:()=>h.x,geodesicDensify:()=>h.G,geodesicLength:()=>h.K,intersect:()=>h.p,intersects:()=>h.i,isSimple:()=>h.k,nearestCoordinate:()=>h.y,nearestVertex:()=>h.z,nearestVertices:()=>h.A,offset:()=>h.q,overlaps:()=>h.o,planarArea:()=>h.H,planarLength:()=>h.I,relate:()=>h.r,rotate:()=>h.B,simplify:()=>h.s,symmetricDifference:()=>h.n,touches:()=>h.t,union:()=>h.u,within:()=>h.w}),e(4918),e(15994);var h=e(7006)},13757:(G,R,e)=>{e.d(R,{d:()=>c});var o=e(21286);function c(a,s,v){var d;const i=a.byteLength/(4*s),p=new Uint32Array(a,0,i*s);let g=new Uint32Array(i);const _=null!=(d=null==v?void 0:v.minReduction)?d:0,r=(null==v?void 0:v.originalIndices)||null,C=r?r.length:0,D=(null==v?void 0:v.componentOffsets)||null;let y=0;if(D)for(let S=0;S<D.length-1;S++){const b=D[S+1]-D[S];b>y&&(y=b)}else y=i;const l=Math.floor(1.1*y)+1;(null==f||f.length<2*l)&&(f=new Uint32Array((0,o.Sf)(2*l)));for(let S=0;S<2*l;S++)f[S]=0;let m=0;const P=!!D&&!!r,L=P?C:i,I=P?new Uint32Array(C):null,x=1.96;let N=0!==_?Math.ceil(4*x*x/(_*_)*_*(1-_)):L,B=1,T=D?D[1]:L;for(let S=0;S<L;S++){if(S===N){const K=1-m/S;if(K+x*Math.sqrt(K*(1-K)/S)<_)return null;N*=2}if(S===T){for(let K=0;K<2*l;K++)f[K]=0;if(r)for(let K=D[B-1];K<D[B];K++)I[K]=g[r[K]];T=D[++B]}const b=P?r[S]:S,w=b*s,Z=O(p,w,s);let W=Z%l,V=m;for(;0!==f[2*W+1];){if(f[2*W]===Z){const K=f[2*W+1]-1;if(h(p,w,K*s,s)){V=g[K];break}}W++,W>=l&&(W-=l)}V===m&&(f[2*W]=Z,f[2*W+1]=b+1,m++),g[b]=V}if(0!==_&&1-m/i<_)return null;if(P){for(let S=D[B-1];S<I.length;S++)I[S]=g[r[S]];g=I}const U=new Uint32Array(s*m);m=0;for(let S=0;S<L;S++)g[S]===m&&(E(p,(P?r[S]:S)*s,U,m*s,s),m++);if(r&&!P){const S=new Uint32Array(C);for(let b=0;b<S.length;b++)S[b]=g[r[b]];g=S}return{buffer:U.buffer,indices:g,uniqueCount:m}}function h(a,s,v,d){for(let i=0;i<d;i++)if(a[s+i]!==a[v+i])return!1;return!0}function E(a,s,v,d,i){for(let p=0;p<i;p++)v[d+p]=a[s+p]}function O(a,s,v){let d=0;for(let i=0;i<v;i++)d=a[s+i]+d|0,d=d+(d<<11)+(d>>>2)|0;return d>>>0}let f=null},48887:(G,R,e)=>{e.r(R),e.d(R,{default:()=>re});var o=e(15861),c=e(17626),h=e(84792),E=e(97478),O=e(26584),f=e(80542),a=e(47877),s=e(62208),v=e(99959),d=e(10699),i=e(77712),_=(e(85931),e(8314),e(90912)),r=e(68653),C=e(76898),D=e(99433),y=e(31283),l=e(2004),m=e(83137),P=e(63602),L=e(50085),I=e(19027),x=e(65088),N=e(552),B=e(50107),T=e(49286),U=e(6647),S=e(30346),b=e(99555),w=e(66120),Z=e(97941),W=e(13812),V=e(14772),K=e(39058),F=e(13410),Q=e(5676);let H=class extends((0,N.h)((0,Z.n)((0,b.M)((0,w.x)((0,I.O)((0,x.Y)((0,T.q)((0,U.I)((0,v.R)((0,S.Q)((0,L.V)((0,B.N)((0,f.p)(P.Z)))))))))))))){constructor(...M){super(...M),this.datesInUnknownTimezone=!1,this.dpi=96,this.gdbVersion=null,this.imageFormat="png24",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.isReference=null,this.labelsVisible=!1,this.operationalLayerType="ArcGISMapServiceLayer",this.sourceJSON=null,this.sublayers=null,this.type="map-image",this.url=null}normalizeCtorArgs(M,A){return"string"==typeof M?X({url:M},A):M}load(M){const A=(0,s.pC)(M)?M.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},M).catch(d.r9).then(()=>this._fetchService(A))),Promise.resolve(this)}readImageFormat(M,A){const j=A.supportedImageFormatTypes;return j&&j.indexOf("PNG32")>-1?"png32":"png24"}writeSublayers(M,A,j,z){if(!this.loaded||!M)return;const J=M.slice().reverse().flatten(({sublayers:$})=>$&&$.toArray().reverse()).toArray();let q=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap.supportsDynamicLayers){const $=(0,y.M9)(z.origin);if($===y.s3.PORTAL_ITEM){const Y=this.createSublayersForOrigin("service").sublayers;q=(0,F.QV)(J,Y,y.s3.SERVICE)}else if($>y.s3.PORTAL_ITEM){const Y=this.createSublayersForOrigin("portal-item");q=(0,F.QV)(J,Y.sublayers,(0,y.M9)(Y.origin))}}const k=[],ne=X({writeSublayerStructure:q},z);let oe=q;J.forEach($=>{const Y=$.write({},ne);k.push(Y),oe=oe||"user"===$.originOf("visible")}),k.some($=>Object.keys($).length>1)&&(A.layers=k),oe&&(A.visibleLayers=J.filter($=>$.visible).map($=>$.id))}createExportImageParameters(M,A,j,z){const J=z&&z.pixelRatio||1;M&&this.version>=10&&(M=M.clone().shiftCentralMeridian());const q=new V.R({layer:this,floors:null==z?void 0:z.floors,scale:(0,m.yZ)({extent:M,width:A})*J}),k=q.toJSON();q.destroy();const ne=!z||!z.rotation||this.version<10.3?{}:{rotation:-z.rotation},oe=M&&M.spatialReference,$=oe.wkid||JSON.stringify(oe.toJSON());k.dpi*=J;const Y={};if(null!=z&&z.timeExtent){const{start:te,end:ee}=z.timeExtent.toJSON();Y.time=te&&ee&&te===ee?""+te:`${null==te?"null":te},${null==ee?"null":ee}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(Y.time="null,null");return X(X(X({bbox:M&&M.xmin+","+M.ymin+","+M.xmax+","+M.ymax,bboxSR:$,imageSR:$,size:A+","+j},k),ne),Y)}fetchImage(M,A,j,z){var J=this;return(0,o.Z)(function*(){var q;const k={responseType:"image",signal:null!=(q=null==z?void 0:z.signal)?q:null,query:se(X(X(se(X(X({},J.parsedUrl.query),J.createExportImageParameters(M,A,j,z)),{f:"image"}),J.refreshParameters),J.customParameters),{token:J.apiKey})},ne=J.parsedUrl.path+"/export";return null==k.query.dynamicLayers||J.capabilities.exportMap.supportsDynamicLayers?(0,h.default)(ne,k).then(oe=>oe.data).catch(oe=>{throw(0,d.D_)(oe)?oe:new O.Z("mapimagelayer:image-fetch-error",`Unable to load image: ${ne}`,{error:oe})}):Promise.reject(new O.Z("mapimagelayer:dynamiclayer-not-supported",`service ${J.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:k.query}))})()}fetchRecomputedExtents(M={}){var A=this;return(0,o.Z)(function*(){const j=se(X({},M),{query:se(X({returnUpdates:!0,f:"json"},A.customParameters),{token:A.apiKey})}),{data:z}=yield(0,h.default)(A.url,j),{extent:J,fullExtent:q,timeExtent:k}=z,ne=J||q;return{fullExtent:ne&&l.Z.fromJSON(ne),timeExtent:k&&E.Z.fromJSON({start:k[0],end:k[1]})}})()}loadAll(){return(0,a.G)(this,M=>{M(this.allSublayers)})}serviceSupportsSpatialReference(M){return(0,Q.D)(this,M)}_fetchService(M){var A=this;return(0,o.Z)(function*(){if(A.sourceJSON)return void A.read(A.sourceJSON,{origin:"service",url:A.parsedUrl});const{data:j,ssl:z}=yield(0,h.default)(A.parsedUrl.path,{query:se(X(X({f:"json"},A.parsedUrl.query),A.customParameters),{token:A.apiKey}),signal:M});z&&(A.url=A.url.replace(/^http:/i,"https:")),A.sourceJSON=j,A.read(j,{origin:"service",url:A.parsedUrl})})()}};(0,c._)([(0,i.Cb)({type:Boolean})],H.prototype,"datesInUnknownTimezone",void 0),(0,c._)([(0,i.Cb)()],H.prototype,"dpi",void 0),(0,c._)([(0,i.Cb)()],H.prototype,"gdbVersion",void 0),(0,c._)([(0,i.Cb)()],H.prototype,"imageFormat",void 0),(0,c._)([(0,r.r)("imageFormat",["supportedImageFormatTypes"])],H.prototype,"readImageFormat",null),(0,c._)([(0,i.Cb)({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],H.prototype,"imageMaxHeight",void 0),(0,c._)([(0,i.Cb)({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],H.prototype,"imageMaxWidth",void 0),(0,c._)([(0,i.Cb)()],H.prototype,"imageTransparency",void 0),(0,c._)([(0,i.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],H.prototype,"isReference",void 0),(0,c._)([(0,i.Cb)({json:{read:!1,write:!1}})],H.prototype,"labelsVisible",void 0),(0,c._)([(0,i.Cb)({type:["ArcGISMapServiceLayer"]})],H.prototype,"operationalLayerType",void 0),(0,c._)([(0,i.Cb)({json:{read:!1,write:!1}})],H.prototype,"popupEnabled",void 0),(0,c._)([(0,i.Cb)()],H.prototype,"sourceJSON",void 0),(0,c._)([(0,i.Cb)({json:{write:{ignoreOrigin:!0}}})],H.prototype,"sublayers",void 0),(0,c._)([(0,D.c)("sublayers",{layers:{type:[K.Z]},visibleLayers:{type:[_.z8]}})],H.prototype,"writeSublayers",null),(0,c._)([(0,i.Cb)({type:["show","hide","hide-children"]})],H.prototype,"listMode",void 0),(0,c._)([(0,i.Cb)({json:{read:!1},readOnly:!0,value:"map-image"})],H.prototype,"type",void 0),(0,c._)([(0,i.Cb)(W.HQ)],H.prototype,"url",void 0),H=(0,c._)([(0,C.j)("esri.layers.MapImageLayer")],H);const re=H},28678:(G,R,e)=>{e.r(R),e.d(R,{default:()=>U});var o=e(17626),h=(e(29132),e(84792)),E=e(26584),O=e(99959),f=e(77275),a=e(21726),s=e(77712),p=(e(85931),e(8314),e(90912),e(68653)),g=e(76898),_=e(99433),r=e(63602),C=e(552),D=e(49286),y=e(6647),l=e(30346),m=e(99555),P=e(72258),L=e(2584),I=e(91309),x=e(2004),N=e(65234),B=e(49672);let T=class extends((0,C.h)((0,l.Q)((0,m.M)((0,D.q)((0,y.I)((0,O.R)(r.Z))))))){constructor(...S){super(...S),this.copyright="",this.fullExtent=new x.Z(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,N.Z.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=N.Z.WebMercator,this.subDomains=null,this.tileInfo=new L.Z({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new B.Z({x:-20037508.342787,y:20037508.342787,spatialReference:N.Z.WebMercator}),spatialReference:N.Z.WebMercator,lods:[new P.Z({level:0,scale:591657527.591555,resolution:156543.033928}),new P.Z({level:1,scale:295828763.795777,resolution:78271.5169639999}),new P.Z({level:2,scale:147914381.897889,resolution:39135.7584820001}),new P.Z({level:3,scale:73957190.948944,resolution:19567.8792409999}),new P.Z({level:4,scale:36978595.474472,resolution:9783.93962049996}),new P.Z({level:5,scale:18489297.737236,resolution:4891.96981024998}),new P.Z({level:6,scale:9244648.868618,resolution:2445.98490512499}),new P.Z({level:7,scale:4622324.434309,resolution:1222.99245256249}),new P.Z({level:8,scale:2311162.217155,resolution:611.49622628138}),new P.Z({level:9,scale:1155581.108577,resolution:305.748113140558}),new P.Z({level:10,scale:577790.554289,resolution:152.874056570411}),new P.Z({level:11,scale:288895.277144,resolution:76.4370282850732}),new P.Z({level:12,scale:144447.638572,resolution:38.2185141425366}),new P.Z({level:13,scale:72223.819286,resolution:19.1092570712683}),new P.Z({level:14,scale:36111.909643,resolution:9.55462853563415}),new P.Z({level:15,scale:18055.954822,resolution:4.77731426794937}),new P.Z({level:16,scale:9027.977411,resolution:2.38865713397468}),new P.Z({level:17,scale:4513.988705,resolution:1.19432856685505}),new P.Z({level:18,scale:2256.994353,resolution:.597164283559817}),new P.Z({level:19,scale:1128.497176,resolution:.298582141647617}),new P.Z({level:20,scale:564.248588,resolution:.14929107082380833}),new P.Z({level:21,scale:282.124294,resolution:.07464553541190416}),new P.Z({level:22,scale:141.062147,resolution:.03732276770595208}),new P.Z({level:23,scale:70.5310735,resolution:.01866138385297604})]}),this.type="web-tile",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(S,b){return"string"==typeof S?X({urlTemplate:S},b):S}load(S){const b=this.loadFromPortal({supportedTypes:["WMTS"]},S).then(()=>{let w="";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const Z=new a.R9(this.urlTemplate);this.subDomains&&this.subDomains.length>0||-1===Z.authority.indexOf("{subDomain}")||(w="is missing 'subDomains' property")}else w="spatialReference must match tileInfo.spatialReference";else w="is missing the required 'urlTemplate' property value";if(w)throw new E.Z("web-tile-layer:load",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${w}`)});return this.addResolvingPromise(b),Promise.resolve(this)}get levelValues(){const S=[];if(!this.tileInfo)return null;for(const b of this.tileInfo.lods)S[b.level]=b.levelValue||b.level;return S}readSpatialReference(S,b){return S||b.fullExtent&&b.fullExtent.spatialReference&&N.Z.fromJSON(b.fullExtent.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const S=[],{urlTemplate:b,subDomains:w}=this,Z=new a.R9(b),W=Z.scheme?Z.scheme+"://":"//",V=W+Z.authority+"/";if(-1===Z.authority.indexOf("{subDomain}"))S.push(V);else if(w&&w.length>0&&Z.authority.split(".").length>1)for(const K of w)S.push(W+Z.authority.replace(/\{subDomain\}/gi,K)+"/");return S.map(K=>("/"!==K.charAt(K.length-1)&&(K+="/"),K))}get urlPath(){if(!this.urlTemplate)return null;const S=this.urlTemplate,b=new a.R9(S);return S.substring(((b.scheme?b.scheme+"://":"//")+b.authority+"/").length)}readUrlTemplate(S,b){return S||b.templateUrl}writeUrlTemplate(S,b){S&&(0,a.oC)(S)&&(S="https:"+S),S&&(S=S.replace(/\{z\}/gi,"{level}").replace(/\{x\}/gi,"{col}").replace(/\{y\}/gi,"{row}"),S=(0,a.Fv)(S)),b.templateUrl=S}fetchTile(S,b,w,Z={}){const{signal:W}=Z,V=this.getTileUrl(S,b,w),K={responseType:"image",signal:W,query:X({},this.refreshParameters)};return(0,h.default)(V,K).then(F=>F.data)}getTileUrl(S,b,w){const Z=this.levelValues[S];return this.tileServers[b%this.tileServers.length]+(0,f.gx)(this.urlPath,{level:Z,z:Z,col:w,x:w,row:b,y:b})}};(0,o._)([(0,s.Cb)({type:String,value:"",json:{write:!0}})],T.prototype,"copyright",void 0),(0,o._)([(0,s.Cb)({type:x.Z,json:{write:!0},nonNullable:!0})],T.prototype,"fullExtent",void 0),(0,o._)([(0,s.Cb)({readOnly:!0,json:{read:!1,write:!1}})],T.prototype,"legendEnabled",void 0),(0,o._)([(0,s.Cb)({type:["show","hide"]})],T.prototype,"listMode",void 0),(0,o._)([(0,s.Cb)()],T.prototype,"levelValues",null),(0,o._)([(0,s.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],T.prototype,"isReference",void 0),(0,o._)([(0,s.Cb)({type:["WebTiledLayer"],value:"WebTiledLayer"})],T.prototype,"operationalLayerType",void 0),(0,o._)([(0,s.Cb)({readOnly:!0,json:{read:!1,write:!1}})],T.prototype,"popupEnabled",void 0),(0,o._)([(0,s.Cb)({type:N.Z})],T.prototype,"spatialReference",void 0),(0,o._)([(0,p.r)("spatialReference",["spatialReference","fullExtent.spatialReference"])],T.prototype,"readSpatialReference",null),(0,o._)([(0,s.Cb)({type:[String],json:{write:!0}})],T.prototype,"subDomains",void 0),(0,o._)([(0,s.Cb)({type:L.Z,json:{write:!0}})],T.prototype,"tileInfo",void 0),(0,o._)([(0,s.Cb)({readOnly:!0})],T.prototype,"tileServers",null),(0,o._)([(0,s.Cb)({json:{read:!1}})],T.prototype,"type",void 0),(0,o._)([(0,s.Cb)()],T.prototype,"urlPath",null),(0,o._)([(0,s.Cb)({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],T.prototype,"urlTemplate",void 0),(0,o._)([(0,p.r)("urlTemplate",["urlTemplate","templateUrl"])],T.prototype,"readUrlTemplate",null),(0,o._)([(0,_.c)("urlTemplate",{templateUrl:{type:String}})],T.prototype,"writeUrlTemplate",null),(0,o._)([(0,s.Cb)({type:I.Z,json:{write:!0}})],T.prototype,"wmtsInfo",void 0),T=(0,o._)([(0,g.j)("esri.layers.WebTileLayer")],T);const U=T},1476:(G,R,e)=>{e.d(R,{S:()=>c,X:()=>o});const o=1;function c(h,E){let O=0;for(const a of E){var f;const s=null==(f=a.attributes)?void 0:f[h];"number"==typeof s&&isFinite(s)&&(O=Math.max(O,s))}return O}},35775:(G,R,e)=>{e.d(R,{av:()=>f,d1:()=>s,b:()=>C,O0:()=>d,og:()=>g});var o=e(15861),c=e(37053),h=e(36630);class E{constructor(){this.code=null,this.description=null}}class O{constructor(l){this.error=new E,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=l}}function f(y){return new O(y)}class a{constructor(l){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=l}}function s(y){return new a(y)}const v=new Set;function d(y,l,m,P=!1,L){v.clear();for(const I in m){const x=y.get(I);if(!x)continue;const N=m[I],B=i(x,N);if(B!==N&&L&&L.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:x,originalValue:N,sanitizedValue:B}}),v.add(x.name),x&&(P||x.editable)){const T=(0,h.Qc)(x,B);if(T)return f((0,h.vP)(T,x,B));l[x.name]=B}}for(const I of y.requiredFields)if(!v.has(I.name))return f(`missing required field "${I.name}"`);return null}function i(y,l){let m=l;return"string"==typeof l&&(0,h.H7)(y)?m=parseFloat(l):null!=l&&(0,h.qN)(y)&&"string"!=typeof l&&(m=String(l)),(0,h.Pz)(m)}let p;function g(y,l){if(!y||!(0,c.JY)(l))return y;if("rings"in y||"paths"in y){if(!p)throw new TypeError("geometry engine not loaded");return p.simplify(l,y)}return y}function _(){return r.apply(this,arguments)}function r(){return(r=(0,o.Z)(function*(){return p||(p=yield Promise.all([e.e(4918),e.e(8592)]).then(e.bind(e,32825)),p)})).apply(this,arguments)}function C(y,l){return D.apply(this,arguments)}function D(){return(D=(0,o.Z)(function*(y,l){!(0,c.JY)(y)||"esriGeometryPolygon"!==l&&"esriGeometryPolyline"!==l||(yield _())})).apply(this,arguments)}},5143:(G,R,e)=>{e.d(R,{Z:()=>p});var o=e(17626),h=(e(29132),e(77712)),a=(e(85931),e(8314),e(90912),e(68653)),s=e(76898),v=e(51026),d=e(28930),i=e(65234);const p=g=>{let _=class extends g{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(r,C){return null!=C.minLOD&&null!=C.maxLOD?r:0}readMaxScale(r,C){return null!=C.minLOD&&null!=C.maxLOD?r:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(r,C){return C.capabilities&&C.capabilities.indexOf("Tilemap")>-1?new d.y({layer:this}):null}};return(0,o._)([(0,h.Cb)({json:{read:{source:"copyrightText"}}})],_.prototype,"copyright",void 0),(0,o._)([(0,h.Cb)()],_.prototype,"minScale",void 0),(0,o._)([(0,a.r)("service","minScale")],_.prototype,"readMinScale",null),(0,o._)([(0,h.Cb)()],_.prototype,"maxScale",void 0),(0,o._)([(0,a.r)("service","maxScale")],_.prototype,"readMaxScale",null),(0,o._)([(0,h.Cb)({type:i.Z})],_.prototype,"spatialReference",void 0),(0,o._)([(0,h.Cb)({readOnly:!0})],_.prototype,"supportsBlankTile",null),(0,o._)([(0,h.Cb)(v.h)],_.prototype,"tileInfo",void 0),(0,o._)([(0,h.Cb)()],_.prototype,"tilemapCache",void 0),(0,o._)([(0,a.r)("service","tilemapCache",["capabilities"])],_.prototype,"readTilemapCache",null),(0,o._)([(0,h.Cb)()],_.prototype,"version",void 0),_=(0,o._)([(0,s.j)("esri.layers.mixins.ArcGISCachedService")],_),_}},22825:(G,R,e)=>{e.d(R,{A:()=>c});const o=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function c(h){return o.some(([E,O])=>h>=E&&h<=O)}},14772:(G,R,e)=>{e.d(R,{R:()=>_});var o=e(17626),c=e(14517),h=e(80542),E=e(62208),O=e(77712),v=(e(85931),e(8314),e(90912),e(76898)),d=e(13812),i=e(13410),p=e(79530);const g={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let _=class extends((0,h.p)(c.Z)){constructor(r){super(r),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const r=this.visibleSublayers.map(C=>{const D=(0,p.ff)(this.floors,C);return C.toExportImageJSON(D)});return r.length?JSON.stringify(r):null}get hasDynamicLayers(){return this.layer&&(0,i.FN)(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(r){this._get("layer")!==r&&(this._set("layer",r),this.handles.remove("layer"),r&&this.handles.add([r.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),r.on("sublayer-update",C=>this.notifyChange(g[C.propertyName]))],"layer"))}get layers(){const r=this.visibleSublayers;return r?r.length?"show:"+r.map(C=>C.id).join(","):"show:-1":null}get layerDefs(){var r;const C=!(null==(r=this.floors)||!r.length),D=this.visibleSublayers.filter(y=>null!=y.definitionExpression||C&&null!=y.floorInfo);return D.length?JSON.stringify(D.reduce((y,l)=>{const m=(0,p.ff)(this.floors,l),P=(0,E.pC)(m)?(0,p.Hp)(m,l):l.definitionExpression;return y[l.id]=P,y},{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");const r=this.layer;return r&&(r.commitProperty("dpi"),r.commitProperty("imageFormat"),r.commitProperty("imageTransparency"),r.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const r=[];if(!this.layer)return r;const C=this.layer.sublayers,D=l=>{const m=this.scale;l.visible&&(0===m||(0===l.minScale||m<=l.minScale)&&(0===l.maxScale||m>=l.maxScale))&&(l.sublayers?l.sublayers.forEach(D):r.unshift(l))};C&&C.forEach(D);const y=this._get("visibleSublayers");return!y||y.length!==r.length||y.some((l,m)=>r[m]!==l)?r:y}toJSON(){const r=this.layer;let C={dpi:r.dpi,format:r.imageFormat,transparent:r.imageTransparency,gdbVersion:r.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?C.dynamicLayers=this.dynamicLayers:C=se(X({},C),{layers:this.layers,layerDefs:this.layerDefs}),C}};(0,o._)([(0,O.Cb)({readOnly:!0})],_.prototype,"dynamicLayers",null),(0,o._)([(0,O.Cb)()],_.prototype,"floors",void 0),(0,o._)([(0,O.Cb)({readOnly:!0})],_.prototype,"hasDynamicLayers",null),(0,o._)([(0,O.Cb)()],_.prototype,"layer",null),(0,o._)([(0,O.Cb)({readOnly:!0})],_.prototype,"layers",null),(0,o._)([(0,O.Cb)({readOnly:!0})],_.prototype,"layerDefs",null),(0,o._)([(0,O.Cb)({type:Number})],_.prototype,"scale",void 0),(0,o._)([(0,O.Cb)(d.qG)],_.prototype,"timeExtent",void 0),(0,o._)([(0,O.Cb)({readOnly:!0})],_.prototype,"version",null),(0,o._)([(0,O.Cb)({readOnly:!0})],_.prototype,"visibleSublayers",null),_=(0,o._)([(0,v.j)("esri.layers.mixins.ExportImageParameters")],_)},51920:(G,R,e)=>{e.d(R,{j:()=>d});var o=e(17626),c=e(14517),h=e(80542),E=e(77712),s=(e(85931),e(8314),e(90912),e(76898));const v={visible:"visibleSublayers"};let d=class extends((0,h.p)(c.Z)){constructor(i){super(i),this.scale=0}set layer(i){this._get("layer")!==i&&(this._set("layer",i),this.handles.remove("layer"),i&&this.handles.add([i.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),i.on("wms-sublayer-update",p=>this.notifyChange(v[p.propertyName]))],"layer"))}get layers(){const{visibleSublayers:i}=this;return i.filter(p=>p.name).map(p=>p.name).join(",")}get version(){this.commitProperty("layers");const i=this.layer;return i&&i.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:i,scale:p}=this,g=null==i?void 0:i.sublayers,_=[],r=C=>{const{minScale:D,maxScale:y,sublayers:l,visible:m}=C;m&&(0===p||(0===D||p<=D)&&(0===y||p>=y))&&(l?l.forEach(r):_.unshift(C))};return null==g||g.forEach(r),_}toJSON(){const{layer:i,layers:p}=this,{imageFormat:g,imageTransparency:_,version:r}=i;return{format:g,request:"GetMap",service:"WMS",styles:"",transparent:_?"TRUE":"FALSE",version:r,layers:p}}};(0,o._)([(0,E.Cb)()],d.prototype,"layer",null),(0,o._)([(0,E.Cb)({readOnly:!0})],d.prototype,"layers",null),(0,o._)([(0,E.Cb)({type:Number})],d.prototype,"scale",void 0),(0,o._)([(0,E.Cb)({readOnly:!0})],d.prototype,"version",null),(0,o._)([(0,E.Cb)({readOnly:!0})],d.prototype,"visibleSublayers",null),d=(0,o._)([(0,s.j)("esri.layers.support.ExportWMSImageParameters")],d)},74711:(G,R,e)=>{e.d(R,{W:()=>v});var o=e(15861),c=e(24263),h=e(84792),E=e(62208),O=e(10699),f=e(15382),a=e(84687),s=e(55463);class v{constructor(i,p,g,_){this.parsedUrl=i,this.portalItem=p,this.apiKey=g,this.signal=_,this.rootDocument=null;const r=this.parsedUrl.path.match(/^(.*)\/SceneServer\/layers\/([\d]*)\/?$/i);r&&(this.urlParts={root:r[1],layerId:parseInt(r[2],10)})}fetch(){var i=this;return(0,o.Z)(function*(){var p;if(!i.urlParts)return null;const g=null!=(p=i.portalItem)?p:yield i._portalItemFromServiceItemId();if((0,E.Wi)(g))return i._loadFromUrl();const _=yield i._findAndLoadRelatedPortalItem(g);return(0,E.Wi)(_)?null:i._loadFeatureLayerFromPortalItem(_)})()}fetchPortalItem(){var i=this;return(0,o.Z)(function*(){var p;if(!i.urlParts)return null;const g=null!=(p=i.portalItem)?p:yield i._portalItemFromServiceItemId();return(0,E.Wi)(g)?null:i._findAndLoadRelatedPortalItem(g)})()}_fetchRootDocument(){var i=this;return(0,o.Z)(function*(){if((0,E.pC)(i.rootDocument))return i.rootDocument;if((0,E.Wi)(i.urlParts))return i.rootDocument={},{};const p={query:{f:"json",token:i.apiKey},responseType:"json",signal:i.signal},g=`${i.urlParts.root}/SceneServer`;try{const _=yield(0,h.default)(g,p);i.rootDocument=_.data}catch(_){i.rootDocument={}}return i.rootDocument})()}_fetchServiceOwningPortalUrl(){var i=this;return(0,o.Z)(function*(){var p;const g=null==(p=c.id)?void 0:p.findServerInfo(i.parsedUrl.path);if(null!=g&&g.owningSystemUrl)return g.owningSystemUrl;const _=i.parsedUrl.path.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const r=(yield(0,h.default)(_,{query:{f:"json"},responseType:"json",signal:i.signal})).data.owningSystemUrl;if(r)return r}catch(r){(0,O.r9)(r)}return null})()}_findAndLoadRelatedPortalItem(i){var p=this;return(0,o.Z)(function*(){try{return(yield i.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:p.signal})).find(g=>"Feature Service"===g.type)||null}catch(g){return(0,O.r9)(g),null}})()}_loadFeatureLayerFromPortalItem(i){var p=this;return(0,o.Z)(function*(){yield i.load({signal:p.signal});const g=yield p._findMatchingAssociatedSublayerUrl(i.url);return new f.default({url:g,portalItem:i}).load({signal:p.signal})})()}_loadFromUrl(){var i=this;return(0,o.Z)(function*(){const p=yield i._findMatchingAssociatedSublayerUrl(`${i.urlParts.root}/FeatureServer`);return new f.default({url:p}).load({signal:i.signal})})()}_findMatchingAssociatedSublayerUrl(i){var p=this;return(0,o.Z)(function*(){const g=i.replace(/^(.*FeatureServer)(\/[\d]*\/?)?$/i,"$1"),_={query:{f:"json"},responseType:"json",authMode:"no-prompt",signal:p.signal},r=p.urlParts.layerId,C=p._fetchRootDocument(),D=(0,h.default)(g,_),[y,l]=yield Promise.all([D,C]),m=l&&l.layers,P=y.data&&y.data.layers;if(!Array.isArray(P))throw new Error("expected layers array");if(Array.isArray(m)){for(let L=0;L<Math.min(m.length,P.length);L++)if(m[L].id===r)return`${g}/${P[L].id}`}else if(r<P.length)return`${g}/${P[r].id}`;throw new Error("could not find matching associated sublayer")})()}_portalItemFromServiceItemId(){var i=this;return(0,o.Z)(function*(){const p=(yield i._fetchRootDocument()).serviceItemId;if(!p)return null;const g=new s.default({id:p,apiKey:i.apiKey}),_=yield i._fetchServiceOwningPortalUrl();(0,E.pC)(_)&&(g.portal=new a.Z({url:_}));try{return g.load({signal:i.signal})}catch(r){return(0,O.r9)(r),null}})()}}},35031:(G,R,e)=>{e.d(R,{H3:()=>y,QI:()=>p,U4:()=>v,Yh:()=>_});var o=e(17626),c=e(86810),h=e(77712),a=(e(85931),e(8314),e(90912),e(55342)),s=e(76898);let v=class extends c.wq{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,o._)([(0,h.Cb)({type:Number})],v.prototype,"nodesPerPage",void 0),(0,o._)([(0,h.Cb)({type:Number})],v.prototype,"rootIndex",void 0),(0,o._)([(0,h.Cb)({type:String})],v.prototype,"lodSelectionMetricType",void 0),v=(0,o._)([(0,s.j)("esri.layer.support.I3SNodePageDefinition")],v);let d=class extends c.wq{constructor(){super(...arguments),this.factor=1}};(0,o._)([(0,h.Cb)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],d.prototype,"id",void 0),(0,o._)([(0,h.Cb)({type:Number})],d.prototype,"factor",void 0),d=(0,o._)([(0,s.j)("esri.layer.support.I3SMaterialTexture")],d);let i=class extends c.wq{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,o._)([(0,h.Cb)({type:[Number]})],i.prototype,"baseColorFactor",void 0),(0,o._)([(0,h.Cb)({type:d})],i.prototype,"baseColorTexture",void 0),(0,o._)([(0,h.Cb)({type:d})],i.prototype,"metallicRoughnessTexture",void 0),(0,o._)([(0,h.Cb)({type:Number})],i.prototype,"metallicFactor",void 0),(0,o._)([(0,h.Cb)({type:Number})],i.prototype,"roughnessFactor",void 0),i=(0,o._)([(0,s.j)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],i);let p=class extends c.wq{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,o._)([(0,a.J)({opaque:"opaque",mask:"mask",blend:"blend"})],p.prototype,"alphaMode",void 0),(0,o._)([(0,h.Cb)({type:Number})],p.prototype,"alphaCutoff",void 0),(0,o._)([(0,h.Cb)({type:Boolean})],p.prototype,"doubleSided",void 0),(0,o._)([(0,a.J)({none:"none",back:"back",front:"front"})],p.prototype,"cullFace",void 0),(0,o._)([(0,h.Cb)({type:d})],p.prototype,"normalTexture",void 0),(0,o._)([(0,h.Cb)({type:d})],p.prototype,"occlusionTexture",void 0),(0,o._)([(0,h.Cb)({type:d})],p.prototype,"emissiveTexture",void 0),(0,o._)([(0,h.Cb)({type:[Number]})],p.prototype,"emissiveFactor",void 0),(0,o._)([(0,h.Cb)({type:i})],p.prototype,"pbrMetallicRoughness",void 0),p=(0,o._)([(0,s.j)("esri.layer.support.I3SMaterialDefinition")],p);let g=class extends c.wq{};(0,o._)([(0,h.Cb)({type:String,json:{read:{source:["name","index"],reader:(l,m)=>null!=l?l:`${m.index}`}}})],g.prototype,"name",void 0),(0,o._)([(0,a.J)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],g.prototype,"format",void 0),g=(0,o._)([(0,s.j)("esri.layer.support.I3STextureFormat")],g);let _=class extends c.wq{constructor(){super(...arguments),this.atlas=!1}};(0,o._)([(0,h.Cb)({type:[g]})],_.prototype,"formats",void 0),(0,o._)([(0,h.Cb)({type:Boolean})],_.prototype,"atlas",void 0),_=(0,o._)([(0,s.j)("esri.layer.support.I3STextureSetDefinition")],_);let r=class extends c.wq{};(0,o._)([(0,a.J)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],r.prototype,"type",void 0),(0,o._)([(0,h.Cb)({type:Number})],r.prototype,"component",void 0),r=(0,o._)([(0,s.j)("esri.layer.support.I3SGeometryAttribute")],r);let C=class extends c.wq{};(0,o._)([(0,a.J)({draco:"draco"})],C.prototype,"encoding",void 0),(0,o._)([(0,h.Cb)({type:[String]})],C.prototype,"attributes",void 0),C=(0,o._)([(0,s.j)("esri.layer.support.I3SGeometryCompressedAttributes")],C);let D=class extends c.wq{constructor(){super(...arguments),this.offset=0}};(0,o._)([(0,h.Cb)({type:Number})],D.prototype,"offset",void 0),(0,o._)([(0,h.Cb)({type:r})],D.prototype,"position",void 0),(0,o._)([(0,h.Cb)({type:r})],D.prototype,"normal",void 0),(0,o._)([(0,h.Cb)({type:r})],D.prototype,"uv0",void 0),(0,o._)([(0,h.Cb)({type:r})],D.prototype,"color",void 0),(0,o._)([(0,h.Cb)({type:r})],D.prototype,"uvRegion",void 0),(0,o._)([(0,h.Cb)({type:r})],D.prototype,"featureId",void 0),(0,o._)([(0,h.Cb)({type:r})],D.prototype,"faceRange",void 0),(0,o._)([(0,h.Cb)({type:C})],D.prototype,"compressedAttributes",void 0),D=(0,o._)([(0,s.j)("esri.layer.support.I3SGeometryBuffer")],D);let y=class extends c.wq{};(0,o._)([(0,a.J)({triangle:"triangle"})],y.prototype,"topology",void 0),(0,o._)([(0,h.Cb)()],y.prototype,"geometryBuffers",void 0),y=(0,o._)([(0,s.j)("esri.layer.support.I3SGeometryDefinition")],y)},28930:(G,R,e)=>{e.d(R,{y:()=>B});var x,o=e(15861),c=e(17626),h=e(84792),E=e(14517),O=e(27306),f=e(26584),a=e(80542),s=e(63290),v=e(93961),d=e(77029),i=e(10699),p=e(32917),g=e(50618),_=e(21726),r=e(77712),C=e(85931),y=(e(8314),e(66656)),l=e(76898),m=e(58817);class P{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}getAvailability(U,S){if("unknown"!==this._allAvailability)return this._allAvailability;const b=(U-this.location.top)*this.location.width+(S-this.location.left),Z=b>>3,W=this._tileAvailabilityBitSet;return Z<0||Z>W.length?"unknown":W[Z]&1<<b%8?"available":"unavailable"}_updateFromData(U){let w=!0,Z=!0;const W=Math.ceil(this.location.width*this.location.height/8),V=new Uint8Array(W);let K=0;for(let F=0;F<U.length;F++){const Q=F%8;U[F]?(Z=!1,V[K]|=1<<Q):w=!1,7===Q&&++K}Z?this._allAvailability="unavailable":w?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=V,this.byteSize+=V.length)}static fromDefinition(U,S){const b=U.service.request||h.default,{row:w,col:Z,width:W,height:V}=U,K={query:{f:"json"}};return S=S?X(X({},K),S):K,b(function I(T){let U;if("vector-tile"===T.service.type)U=`${T.service.url}/tilemap/${T.level}/${T.row}/${T.col}/${T.width}/${T.height}`;else{const b=T.service.tileServers;U=`${b&&b.length?b[T.row%b.length]:T.service.url}/tilemap/${T.level}/${T.row}/${T.col}/${T.width}/${T.height}`}const S=T.service.query;return S&&(U=`${U}?${S}`),U}(U),S).then(F=>F.data).catch(F=>{if(F&&F.details&&422===F.details.httpStatus)return{location:{top:w,left:Z,width:W,height:V},valid:!0,data:(0,C.a9)(W*V,0)};throw F}).then(F=>{if(F.location&&(F.location.top!==w||F.location.left!==Z||F.location.width!==W||F.location.height!==V))throw new f.Z("tilemap:location-mismatch","Tilemap response for different location than requested",{response:F,definition:{top:w,left:Z,width:W,height:V}});return P.fromJSON(F)})}static fromJSON(U){P._validateJSON(U);const S=new P;return S.location=Object.freeze((0,m.d9)(U.location)),S._updateFromData(U.data),Object.freeze(S)}static _validateJSON(U){if(!U||!U.location)throw new f.Z("tilemap:missing-location","Location missing from tilemap response");if(!1===U.valid)throw new f.Z("tilemap:invalid","Tilemap response was marked as invalid");if(!U.data)throw new f.Z("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(U.data))throw new f.Z("tilemap:data-mismatch","Data must be an array of numbers");if(U.data.length!==U.location.width*U.location.height)throw new f.Z("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function L(T){return`${T.level}/${T.row}/${T.col}/${T.width}/${T.height}`}const N=s.Z.getLogger("esri.layers.support.TilemapCache");let B=x=class extends((0,a.p)(E.Z)){constructor(T){super(T),this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2*O.Y8.MEGABYTES,this.request=h.default,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new v.Z(this.cacheByteSize),this.handles.add([this.watch(["layer.parsedUrl","layer.tileServers?","layer.apiKey?","layer.customParameters?"],()=>this._initializeTilemapDefinition()),(0,p.YP)(()=>{var T,U;return null==(T=this.layer)||null==(U=T.tileInfo)?void 0:U.lods},T=>this._initializeAvailableLevels(T),p.tX)]),this._initializeTilemapDefinition()}castLevels(T){return T<=2?(N.error("Minimum levels for Tilemap is 3, but got ",T),3):T}get size(){return 1<<this.levels}fetchTilemap(T,U,S,b){if(!this._availableLevels[T])return Promise.reject(new f.Z("tilemap-cache:level-unavailable",`Level ${T} is unavailable in the service`));const w=this._tmpTilemapDefinition,Z=this._tilemapFromCache(T,U,S,w);if(Z)return Promise.resolve(Z);const W=b&&b.signal;return b=se(X({},b),{signal:null}),new Promise((V,K)=>{(0,i.fu)(W,()=>K((0,i.zE)()));const F=L(w);let Q=this._pendingTilemapRequests[F];if(!Q){Q=P.fromDefinition(w,b).then(re=>(this._tilemapCache.put(F,re,re.byteSize),re));const H=()=>delete this._pendingTilemapRequests[F];this._pendingTilemapRequests[F]=Q,Q.then(H,H)}Q.then(V,K)})}getAvailability(T,U,S){if(!this._availableLevels[T])return"unavailable";const b=this._tilemapFromCache(T,U,S,this._tmpTilemapDefinition);return b?b.getAvailability(U,S):"unknown"}fetchAvailability(T,U,S,b){return this._availableLevels[T]?this.fetchTilemap(T,U,S,b).catch(w=>w).then(w=>{if(w instanceof P){const Z=w.getAvailability(U,S);return"unavailable"===Z?Promise.reject(new f.Z("tile-map:tile-unavailable","Tile is not available",{level:T,row:U,col:S})):Z}if((0,i.D_)(w))throw w;return"unknown"}):Promise.reject(new f.Z("tilemap-cache:level-unavailable",`Level ${T} is unavailable in the service`))}fetchAvailabilityUpsample(T,U,S,b,w){b.level=T,b.row=U,b.col=S;const Z=this.layer.tileInfo;Z.updateTileInfo(b);const W=this.fetchAvailability(T,U,S,w).catch(V=>{if((0,i.D_)(V))throw V;if(Z.upsampleTile(b))return this.fetchAvailabilityUpsample(b.level,b.row,b.col,b);throw V});return this._fetchAvailabilityUpsamplePrefetch(b.id,T,U,S,w,W),W}_fetchAvailabilityUpsamplePrefetch(T,U,S,b,w,Z){var W=this;return(0,o.Z)(function*(){if(!W._prefetchingEnabled)return;const V=`prefetch-${T}`;if(W.handles.has(V))return;const K=new AbortController;Z.then(()=>K.abort(),()=>K.abort());let F=!1;if(W.handles.add({remove(){F||(F=!0,K.abort())}},V),yield(0,g.MU)(10,K.signal).catch(()=>{}),F||(F=!0,W.handles.remove(V)),(0,i.Hc)(K))return;const H={id:T,level:U,row:S,col:b},re=se(X({},w),{signal:K.signal}),M=W.layer.tileInfo;for(let A=0;x._prefetches.length<x._maxPrefetch&&M.upsampleTile(H);++A){const j=W.fetchAvailability(H.level,H.row,H.col,re);x._prefetches.push(j);const z=()=>{x._prefetches.removeUnordered(j)};j.then(z,z)}})()}_initializeTilemapDefinition(){var T;if(!this.layer.parsedUrl)return;const{parsedUrl:U,apiKey:S,customParameters:b}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:U.path,query:(0,_.B7)(se(X(X({},U.query),b),{token:null!=S?S:null==(T=U.query)?void 0:T.token})),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(T,U,S,b){b.level=T,b.row=U-U%this.size,b.col=S-S%this.size;const w=L(b);return this._tilemapCache.get(w)}_initializeAvailableLevels(T){this._availableLevels={},T&&T.forEach(U=>this._availableLevels[U.level]=!0)}get test(){const T=this;return{get prefetchingEnabled(){return T._prefetchingEnabled},set prefetchingEnabled(U){T._prefetchingEnabled=U},hasTilemap:(U,S,b)=>!!T._tilemapFromCache(U,S,b,T._tmpTilemapDefinition)}}};B._maxPrefetch=4,B._prefetches=new d.Z({initialSize:x._maxPrefetch}),(0,c._)([(0,r.Cb)({constructOnly:!0,type:Number})],B.prototype,"levels",void 0),(0,c._)([(0,y.p)("levels")],B.prototype,"castLevels",null),(0,c._)([(0,r.Cb)({readOnly:!0,type:Number})],B.prototype,"size",null),(0,c._)([(0,r.Cb)({constructOnly:!0,type:Number})],B.prototype,"cacheByteSize",void 0),(0,c._)([(0,r.Cb)({constructOnly:!0})],B.prototype,"layer",void 0),(0,c._)([(0,r.Cb)({constructOnly:!0})],B.prototype,"request",void 0),B=x=(0,c._)([(0,l.j)("esri.layers.support.TilemapCache")],B)},91309:(G,R,e)=>{e.d(R,{Z:()=>v});var a,o=e(17626),c=e(86810),h=e(58817),E=e(77712),f=(e(90912),e(76898));let s=a=class extends c.wq{constructor(d){super(d)}clone(){return new a({customLayerParameters:(0,h.d9)(this.customLayerParameters),customParameters:(0,h.d9)(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};(0,o._)([(0,E.Cb)({json:{type:Object,write:!0}})],s.prototype,"customLayerParameters",void 0),(0,o._)([(0,E.Cb)({json:{type:Object,write:!0}})],s.prototype,"customParameters",void 0),(0,o._)([(0,E.Cb)({type:String,json:{write:!0}})],s.prototype,"layerIdentifier",void 0),(0,o._)([(0,E.Cb)({type:String,json:{write:!0}})],s.prototype,"tileMatrixSet",void 0),(0,o._)([(0,E.Cb)({type:String,json:{write:!0}})],s.prototype,"url",void 0),s=a=(0,o._)([(0,f.j)("esri.layer.support.WMTSLayerInfo")],s);const v=s},59787:(G,R,e)=>{e.d(R,{C:()=>o});const o={attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsDefaultSpatialReference:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}},98686:(G,R,e)=>{e.d(R,{lm:()=>L,CS:()=>r,Yu:()=>m,Cw:()=>_,j5:()=>C});var o=e(15861),c=e(59318),h=e(24263),E=e(73281),O=e(84792),f=e(58817),a=e(21726),s=e(65234),v=e(5548),d=e(32442),i=e(33474),p=e(17253);const g={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function _(I){const x=I.folders||[],N=x.slice(),B=new Map,T=new Map,U=new Map,S=new Map,b=new Map,w={esriGeometryPoint:T,esriGeometryPolyline:U,esriGeometryPolygon:S};(I.featureCollection&&I.featureCollection.layers||[]).forEach(W=>{const V=(0,f.d9)(W);V.featureSet.features=[];const K=W.featureSet.geometryType;B.set(K,V);const F=W.layerDefinition.objectIdField;"esriGeometryPoint"===K?D(T,F,W.featureSet.features):"esriGeometryPolyline"===K?D(U,F,W.featureSet.features):"esriGeometryPolygon"===K&&D(S,F,W.featureSet.features)}),I.groundOverlays&&I.groundOverlays.forEach(W=>{b.set(W.id,W)}),x.forEach(W=>{W.networkLinkIds.forEach(V=>{const K=function l(I,x,N){const B=function y(I,x){let N;return x.some(B=>B.id===I&&(N=B,!0)),N}(I,N);return B&&(B.parentFolderId=x,B.networkLink=B),B}(V,W.id,I.networkLinks);K&&N.push(K)})}),N.forEach(W=>{if(W.featureInfos){W.points=(0,f.d9)(B.get("esriGeometryPoint")),W.polylines=(0,f.d9)(B.get("esriGeometryPolyline")),W.polygons=(0,f.d9)(B.get("esriGeometryPolygon")),W.mapImages=[];for(const V of W.featureInfos)switch(V.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":{const K=w[V.type].get(V.id);K&&W[g[V.type]].featureSet.features.push(K);break}case"GroundOverlay":{const K=b.get(V.id);K&&W.mapImages.push(K);break}}W.fullExtent=L([W])}});const Z=L(N);return{folders:x,sublayers:N,extent:Z}}function r(I,x,N,B){const T=h.id&&h.id.findCredential(I);return I=(0,a.fl)(I,{token:T&&T.token}),(0,O.default)(c.Z.kmlServiceUrl,{query:{url:I,model:"simple",folders:"",refresh:0!==N||void 0,outSR:JSON.stringify(x)},responseType:"json",signal:B})}function C(I,x,N=null,B=[]){const T=[],U={},S=x.sublayers,b=x.folders.map(w=>w.id);return S.forEach(w=>{const Z=new I;if(N?Z.read(w,N):Z.read(w),B.length&&b.indexOf(Z.id)>-1&&(Z.visible=-1!==B.indexOf(Z.id)),U[w.id]=Z,null!=w.parentFolderId&&-1!==w.parentFolderId){const W=U[w.parentFolderId];W.sublayers||(W.sublayers=[]),W.sublayers.unshift(Z)}else T.unshift(Z)}),T}function D(I,x,N){N.forEach(B=>{I.set(B.attributes[x],B)})}function m(I){return P.apply(this,arguments)}function P(){return(P=(0,o.Z)(function*(I){const x=p.default.fromJSON(I.featureSet).features,B=(0,i.i)(I.layerDefinition.drawingInfo.renderer),T=E.Z.fromJSON(I.popupInfo),U=[];for(const S of x){const b=yield B.getSymbolAsync(S);S.symbol=b,S.popupTemplate=T,S.visible=!0,U.push(S)}return U})).apply(this,arguments)}function L(I){const x=(0,v.Ue)(v.Gv),N=(0,v.Ue)(v.Gv);for(const B of I){if(B.polygons&&B.polygons.featureSet&&B.polygons.featureSet.features)for(const T of B.polygons.featureSet.features)(0,d.Yg)(x,T.geometry),(0,v.TC)(N,x);if(B.polylines&&B.polylines.featureSet&&B.polylines.featureSet.features)for(const T of B.polylines.featureSet.features)(0,d.Yg)(x,T.geometry),(0,v.TC)(N,x);if(B.points&&B.points.featureSet&&B.points.featureSet.features)for(const T of B.points.featureSet.features)(0,d.Yg)(x,T.geometry),(0,v.TC)(N,x);if(B.mapImages)for(const T of B.mapImages)(0,d.Yg)(x,T.extent),(0,v.TC)(N,x)}return(0,v.fS)(N,v.Gv)?null:{xmin:N[0],ymin:N[1],zmin:N[2],xmax:N[3],ymax:N[4],zmax:N[5],spatialReference:s.Z.WGS84}}},61068:(G,R,e)=>{e.d(R,{OE:()=>p,Gc:()=>r,Qg:()=>g,Rq:()=>s,gX:()=>_,z2:()=>v,ET:()=>d,Vx:()=>D}),e(29132);var c=e(62208),E=e(28594),O=e(49672);const f=new Map,a=new class h{constructor(l=15e3,m=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=l,this._interval=Math.min(l,m)}decreaseRefCount(l,m){const P=l+"/"+m,L=this._cachedBlocks;if(L.has(P)){const I=L.get(P);return I.refCount--,I.refCount<=0&&(L.delete(P),I.controller&&I.controller.abort()),I.refCount}return 0}getBlock(l,m){const P=l+"/"+m,L=this._cachedBlocks;if(L.has(P)){const I=L.get(P);return I.ts=Date.now(),I.refCount++,L.delete(P),L.set(P,I),I.block}return null}putBlock(l,m,P,L=null){const I=this._cachedBlocks,x=l+"/"+m;if(I.has(x)){const N=I.get(x);N.ts=Date.now(),N.refCount++}else I.set(x,{block:P,ts:Date.now(),refCount:1,controller:L});this._trim(),this._updateTimer()}deleteBlock(l,m){const P=this._cachedBlocks,L=l+"/"+m;P.has(L)&&P.delete(L)}updateMaxSize(l){this._size=l,this._trim()}empty(){this._cachedBlocks.clear(),this._clearTimer()}getCurrentSize(){return this._cachedBlocks.size}_updateTimer(){if(null!=this._timer)return;const l=this._cachedBlocks;this._timer=setInterval(()=>{const m=Array.from(l),P=Date.now();for(let L=0;L<m.length&&m[L][1].ts<=P-this._duration;L++)l.delete(m[L][0]);0===l.size&&this._clearTimer()},this._interval)}_trim(){const l=this._cachedBlocks;if(-1===this._size||this._size>=l.size)return;const m=Array.from(l);for(let P=0;P<m.length-this._size;P++)l.delete(m[P][0])}_clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}};function s(y,l){return null==l?y:`${y}?sliceId=${l}`}function v(y,l){const m={extent:null,rasterInfo:l,cache:new Map};if(f.has(y)){const P=f.get(y);return P.push(m),P.length-1}return f.set(y,[m]),0}function d(y,l){if(f.has(y)){const m=f.get(y);m[l]=null,m.some(P=>null!=P)||f.delete(y)}}function p(y,l,m){if(!f.has(y))return null==l?a.decreaseRefCount(y,m):0;const P=f.get(y);if(null==P[l])return a.decreaseRefCount(y,m);const L=P[l].cache;if(L.has(m)){const I=L.get(m);if(I.refCount--,0===I.refCount){L.delete(m);for(let x=0;x<P.length;x++)P[x]&&P[x].cache.has(m)&&P[x].cache.delete(m);I.controller&&I.controller.abort()}return I.refCount}return 0}function g(y,l,m){if(!f.has(y))return null==l?a.getBlock(y,m):null;const P=f.get(y);if(null==P[l]){for(let I=0;I<P.length;I++)if(P[I]&&P[I].cache.has(m)){const x=P[I].cache.get(m);return x.refCount++,x.block}return a.getBlock(y,m)}const L=P[l].cache;if(L.has(m)){const I=L.get(m);return I.refCount++,I.block}for(let I=0;I<P.length;I++)if(I!==l&&P[I]&&P[I]&&P[I].cache.has(m)){const x=P[I].cache.get(m);return x.refCount++,L.set(m,x),x.block}return null}function _(y,l,m,P,L=null){if(!f.has(y))return void(null==l&&a.putBlock(y,m,P,L));const I=f.get(y);if(null==I[l])return void a.putBlock(y,m,P,L);const x={refCount:1,block:P,isResolved:!1,isRejected:!1,controller:L};P.then(()=>x.isResolved=!0).catch(()=>x.isRejected=!0),I[l].cache.set(m,x)}function r(y,l,m){if(!f.has(y))return void(null==l&&a.deleteBlock(y,m));const P=f.get(y);null!=P[l]?P[l].cache.delete(m):a.deleteBlock(y,m)}function D(y,l,m,P,L,I,x=null){const N=function C(y,l){if(!f.has(y))return null;const m=f.get(y);return null==m[l]?null:m[l]}(y,l),B=N.extent,{cache:T,rasterInfo:U}=N;if(B&&B.xmin===m.xmin&&B.xmax===m.xmax&&B.ymin===m.ymin&&B.ymax===m.ymax)return;const S=m.clone().normalize(),{spatialReference:b,transform:w}=U,Z=new Set;for(let W=0;W<S.length;W++){const V=S[W];if(V.xmax-V.xmin<=P||V.ymax-V.ymin<=P)continue;let K=(0,E.tB)(V,b,x);(0,c.pC)(w)&&(K=w.inverseTransform(K));const F=new O.Z({x:P,y:P,spatialReference:V.spatialReference});if(null==L&&!(L=(0,E.VO)(F,b,V,x)))return;const{pyramidLevel:Q,pyramidResolution:H,excessiveReading:re}=(0,E.kr)(L,U,I||"closest");if(re)return;const{storageInfo:M}=U,{origin:A}=M,j={x:Math.max(0,Math.floor((K.xmin-A.x)/H.x)),y:Math.max(0,Math.floor((A.y-K.ymax)/H.y))},z=Math.ceil((K.xmax-K.xmin)/H.x-.1),J=Math.ceil((K.ymax-K.ymin)/H.y-.1),q=Q>0?M.pyramidBlockWidth:M.blockWidth,k=Q>0?M.pyramidBlockHeight:M.blockHeight,ne=1,oe=Math.max(0,Math.floor(j.x/q)-ne),$=Math.max(0,Math.floor(j.y/k)-ne),Y=Math.floor((j.x+z-1)/q)+ne,te=Math.floor((j.y+J-1)/k)+ne;for(let ee=$;ee<=te;ee++)for(let ie=oe;ie<=Y;ie++)Z.add(`${Q}/${ee}/${ie}`)}T.forEach((W,V)=>{if(!Z.has(V)){const K=T.get(V);(null==K||K.isResolved||K.isRejected)&&T.delete(V)}}),N.extent={xmin:m.xmin,ymin:m.ymin,xmax:m.xmax,ymax:m.ymax}}},96504:(G,R,e)=>{e.d(R,{Z:()=>v});var o=e(17626),c=e(86810),h=e(77712),a=(e(85931),e(8314),e(90912),e(76898));let s=class extends c.wq{get affectsPixelSize(){return!1}forwardTransform(d){return d}inverseTransform(d){return d}};(0,o._)([(0,h.Cb)()],s.prototype,"affectsPixelSize",null),(0,o._)([(0,h.Cb)({json:{write:!0}})],s.prototype,"spatialReference",void 0),s=(0,o._)([(0,a.j)("esri.layers.support.rasterTransforms.BaseRasterTransform")],s);const v=s},76671:(G,R,e)=>{e.d(R,{Z:()=>d});var o=e(17626),c=e(77712),f=(e(85931),e(8314),e(90912),e(55342)),a=e(76898),s=e(96504);let v=class extends s.Z{constructor(){super(...arguments),this.type="gcs-shift",this.tolerance=1e-8}forwardTransform(i){return"point"===(i=i.clone()).type?(i.x>180+this.tolerance&&(i.x-=360),i):(i.xmin>=180-this.tolerance?(i.xmax-=360,i.xmin-=360):i.xmax>180+this.tolerance&&(i.xmin=-180,i.xmax=180),i)}inverseTransform(i){return"point"===(i=i.clone()).type?(i.x<-this.tolerance&&(i.x+=360),i):(i.xmin<-this.tolerance&&(i.xmin+=360,i.xmax+=360),i)}};(0,o._)([(0,f.J)({GCSShiftXform:"gcs-shift"})],v.prototype,"type",void 0),(0,o._)([(0,c.Cb)()],v.prototype,"tolerance",void 0),v=(0,o._)([(0,a.j)("esri.layers.support.rasterTransforms.GCSShiftTransform")],v);const d=v},85374:(G,R,e)=>{e.d(R,{Z:()=>y});var o=e(17626),h=(e(29132),e(77712)),a=(e(85931),e(8314),e(90912),e(55342)),s=e(68653),v=e(76898),d=e(99433),i=e(96504),p=e(49672),g=e(2004);function _(l,m,P){const{x:L,y:I}=m;if(P<2)return{x:l[0]+L*l[2]+I*l[4],y:l[1]+L*l[3]+I*l[5]};if(2===P){const w=L*L,Z=I*I,W=L*I;return{x:l[0]+L*l[2]+I*l[4]+w*l[6]+W*l[8]+Z*l[10],y:l[1]+L*l[3]+I*l[5]+w*l[7]+W*l[9]+Z*l[11]}}const x=L*L,N=I*I,B=L*I,T=x*L,U=x*I,S=L*N,b=I*N;return{x:l[0]+L*l[2]+I*l[4]+x*l[6]+B*l[8]+N*l[10]+T*l[12]+U*l[14]+S*l[16]+b*l[18],y:l[1]+L*l[3]+I*l[5]+x*l[7]+B*l[9]+N*l[11]+T*l[13]+U*l[15]+S*l[17]+b*l[19]}}function r(l,m,P){const{xmin:L,ymin:I,xmax:x,ymax:N,spatialReference:B}=m;let T=[];if(P<2)T.push({x:L,y:N}),T.push({x,y:N}),T.push({x:L,y:I}),T.push({x,y:I});else{let b=10;for(let w=0;w<b;w++)T.push({x:L,y:I+(N-I)*w/(b-1)}),T.push({x,y:I+(N-I)*w/(b-1)});b=8;for(let w=1;w<=b;w++)T.push({x:L+(x-L)*w/b,y:I}),T.push({x:L+(x-L)*w/b,y:N})}T=T.map(b=>_(l,b,P));const U=T.map(b=>b.x),S=T.map(b=>b.y);return new g.Z({xmin:Math.min.apply(null,U),xmax:Math.max.apply(null,U),ymin:Math.min.apply(null,S),ymax:Math.max.apply(null,S),spatialReference:B})}let D=class extends i.Z{constructor(){super(...arguments),this.polynomialOrder=1,this.type="polynomial"}readForwardCoefficients(l,m){const{coeffX:P,coeffY:L}=m;if(null==P||!P.length||null==L||!L.length||P.length!==L.length)return null;const I=[];for(let x=0;x<P.length;x++)I.push(P[x]),I.push(L[x]);return I}writeForwardCoefficients(l,m,P){const L=[],I=[];for(let x=0;x<(null==l?void 0:l.length);x++)x%2==0?L.push(l[x]):I.push(l[x]);m.coeffX=L,m.coeffY=I}get inverseCoefficients(){let l=this._get("inverseCoefficients");const m=this._get("forwardCoefficients");return!l&&m&&this.polynomialOrder<2&&(l=function C(l){const[m,P,L,I,x,N]=l,B=L*N-x*I,T=x*I-L*N;return[(x*P-m*N)/B,(L*P-m*I)/T,N/B,I/T,-x/B,-L/T]}(m)),l}set inverseCoefficients(l){this._set("inverseCoefficients",l)}readInverseCoefficients(l,m){const{inverseCoeffX:P,inverseCoeffY:L}=m;if(null==P||!P.length||null==L||!L.length||P.length!==L.length)return null;const I=[];for(let x=0;x<P.length;x++)I.push(P[x]),I.push(L[x]);return I}writeInverseCoefficients(l,m,P){const L=[],I=[];for(let x=0;x<(null==l?void 0:l.length);x++)x%2==0?L.push(l[x]):I.push(l[x]);m.inverseCoeffX=L,m.inverseCoeffY=I}get affectsPixelSize(){return this.polynomialOrder>0}forwardTransform(l){if("point"===l.type){const m=_(this.forwardCoefficients,l,this.polynomialOrder);return new p.Z({x:m.x,y:m.y,spatialReference:l.spatialReference})}return r(this.forwardCoefficients,l,this.polynomialOrder)}inverseTransform(l){if("point"===l.type){const m=_(this.inverseCoefficients,l,this.polynomialOrder);return new p.Z({x:m.x,y:m.y,spatialReference:l.spatialReference})}return r(this.inverseCoefficients,l,this.polynomialOrder)}};(0,o._)([(0,h.Cb)({json:{write:!0}})],D.prototype,"polynomialOrder",void 0),(0,o._)([(0,h.Cb)()],D.prototype,"forwardCoefficients",void 0),(0,o._)([(0,s.r)("forwardCoefficients",["coeffX","coeffY"])],D.prototype,"readForwardCoefficients",null),(0,o._)([(0,d.c)("forwardCoefficients")],D.prototype,"writeForwardCoefficients",null),(0,o._)([(0,h.Cb)({json:{write:!0}})],D.prototype,"inverseCoefficients",null),(0,o._)([(0,s.r)("inverseCoefficients",["inverseCoeffX","inverseCoeffY"])],D.prototype,"readInverseCoefficients",null),(0,o._)([(0,d.c)("inverseCoefficients")],D.prototype,"writeInverseCoefficients",null),(0,o._)([(0,h.Cb)()],D.prototype,"affectsPixelSize",null),(0,o._)([(0,a.J)({PolynomialXform:"polynomial"})],D.prototype,"type",void 0),D=(0,o._)([(0,v.j)("esri.layers.support.rasterTransforms.PolynomialTransform")],D);const y=D},46572:(G,R,e)=>{e.d(R,{j:()=>C,c:()=>D});var o=e(76671),c=e(17626),s=(e(63290),e(90912),e(85931),e(8314),e(82255),e(55342)),v=e(76898),d=e(96504);let i=class extends d.Z{constructor(){super(...arguments),this.type="identity"}};(0,c._)([(0,s.J)({IdentityXform:"identity"})],i.prototype,"type",void 0),i=(0,c._)([(0,v.j)("esri.layers.support.rasterTransforms.IdentityTransform")],i);const p=i;var g=e(85374);const _={GCSShiftXform:o.Z,IdentityXform:p,PolynomialXform:g.Z},r=Object.keys(_);function C(y){return!y||r.includes(null==y?void 0:y.type)}function D(y){if(!(null==y?void 0:y.type))return null;const l=_[null==y?void 0:y.type];if(l){const m=new l;return m.read(y),m}return null}},51026:(G,R,e)=>{e.d(R,{d:()=>h,h:()=>c});var o=e(2584);const c={type:o.Z,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:h}}}}};function h(E,O,f,a){if(!E)return null;const{minScale:s,maxScale:v,minLOD:d,maxLOD:i}=O;if(null!=d&&null!=i)return o.Z.fromJSON(a&&a.ignoreMinMaxLOD?E:se(X({},E),{lods:E.lods.filter(({level:p})=>null!=p&&p>=d&&p<=i)}));if(0!==s&&0!==v){const p=r=>Math.round(1e4*r)/1e4,g=s?p(s):1/0,_=v?p(v):-1/0;return o.Z.fromJSON(se(X({},E),{lods:E.lods.filter(r=>{const C=p(r.scale);return C<=g&&C>=_})}))}return o.Z.fromJSON(E)}},53776:(G,R,e)=>{e.d(R,{Z:()=>C});var i,o=e(17626),c=e(58817),h=e(77712),E=e(90912),O=e(55342),f=e(76898),a=e(80573),s=e(10914),v=e(91558),d=e(86810);let p=i=class extends d.wq{constructor(){super(...arguments),this.description=null,this.label=null,this.minValue=0,this.maxValue=0,this.color=null}clone(){return new i({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:(0,c.d9)(this.color)})}};(0,o._)([(0,h.Cb)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,o._)([(0,h.Cb)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,o._)([(0,h.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],p.prototype,"minValue",void 0),(0,o._)([(0,h.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],p.prototype,"maxValue",void 0),(0,o._)([(0,h.Cb)({type:v.Z,json:{type:[E.z8],write:!0}})],p.prototype,"color",void 0),p=i=(0,o._)([(0,f.j)("esri.renderers.support.pointCloud.ColorClassBreakInfo")],p);const g=p;var _;let r=_=class extends a.Z{constructor(D){super(D),this.type="point-cloud-class-breaks",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.colorClassBreakInfos=null}clone(){return new _(se(X({},this.cloneProperties()),{field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:(0,c.d9)(this.colorClassBreakInfos),legendOptions:(0,c.d9)(this.legendOptions)}))}};(0,o._)([(0,O.J)({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],r.prototype,"type",void 0),(0,o._)([(0,h.Cb)({json:{write:!0},type:String})],r.prototype,"field",void 0),(0,o._)([(0,h.Cb)({type:s.Z,json:{write:!0}})],r.prototype,"legendOptions",void 0),(0,o._)([(0,h.Cb)({type:a.Z.fieldTransformTypeKebabDict.apiValues,json:{type:a.Z.fieldTransformTypeKebabDict.jsonValues,read:a.Z.fieldTransformTypeKebabDict.read,write:a.Z.fieldTransformTypeKebabDict.write}})],r.prototype,"fieldTransformType",void 0),(0,o._)([(0,h.Cb)({type:[g],json:{write:!0}})],r.prototype,"colorClassBreakInfos",void 0),r=_=(0,o._)([(0,f.j)("esri.renderers.PointCloudClassBreaksRenderer")],r);const C=r},80573:(G,R,e)=>{e.d(R,{Z:()=>B});var d,o=e(17626),c=e(2076),h=e(86810),E=e(58817),O=e(77712),a=(e(90912),e(76898));e(85931),e(8314);let i=d=class extends h.wq{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new d({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};(0,o._)([(0,O.Cb)({type:String,json:{write:!0}})],i.prototype,"field",void 0),(0,o._)([(0,O.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],i.prototype,"minValue",void 0),(0,o._)([(0,O.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],i.prototype,"maxValue",void 0),i=d=(0,o._)([(0,a.j)("esri.renderers.support.pointCloud.ColorModulation")],i);const p=i,g=new c.X({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});let _=class extends h.wq{};(0,o._)([(0,O.Cb)({type:g.apiValues,readOnly:!0,nonNullable:!0,json:{type:g.jsonValues,read:!1,write:g.write}})],_.prototype,"type",void 0),_=(0,o._)([(0,a.j)("esri.renderers.support.pointCloud.PointSizeAlgorithm")],_);const r=_;var D,C=e(55342);let y=D=class extends r{constructor(){super(...arguments),this.type="fixed-size",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new D({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};(0,o._)([(0,C.J)({pointCloudFixedSizeAlgorithm:"fixed-size"})],y.prototype,"type",void 0),(0,o._)([(0,O.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],y.prototype,"size",void 0),(0,o._)([(0,O.Cb)({type:Boolean,json:{write:!0}})],y.prototype,"useRealWorldSymbolSizes",void 0),y=D=(0,o._)([(0,a.j)("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],y);const l=y;var m;let P=m=class extends r{constructor(){super(...arguments),this.type="splat",this.scaleFactor=1}clone(){return new m({scaleFactor:this.scaleFactor})}};(0,o._)([(0,C.J)({pointCloudSplatAlgorithm:"splat"})],P.prototype,"type",void 0),(0,o._)([(0,O.Cb)({type:Number,value:1,nonNullable:!0,json:{write:!0}})],P.prototype,"scaleFactor",void 0),P=m=(0,o._)([(0,a.j)("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],P);const I={key:"type",base:r,typeMap:{"fixed-size":l,splat:P}},x=(0,c.w)()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});let N=class extends h.wq{constructor(T){super(T),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:(0,E.d9)(this.pointSizeAlgorithm),colorModulation:(0,E.d9)(this.colorModulation),pointsPerInch:(0,E.d9)(this.pointsPerInch)}}};(0,o._)([(0,O.Cb)({type:x.apiValues,readOnly:!0,nonNullable:!0,json:{type:x.jsonValues,read:!1,write:x.write}})],N.prototype,"type",void 0),(0,o._)([(0,O.Cb)({types:I,json:{write:!0}})],N.prototype,"pointSizeAlgorithm",void 0),(0,o._)([(0,O.Cb)({type:p,json:{write:!0}})],N.prototype,"colorModulation",void 0),(0,o._)([(0,O.Cb)({json:{write:!0},nonNullable:!0,type:Number})],N.prototype,"pointsPerInch",void 0),N=(0,o._)([(0,a.j)("esri.renderers.PointCloudRenderer")],N),(N||(N={})).fieldTransformTypeKebabDict=new c.X({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});const B=N},23899:(G,R,e)=>{e.d(R,{Z:()=>p});var d,o=e(17626),c=e(58817),h=e(77712),O=(e(90912),e(55342)),f=e(76898),a=e(80573),s=e(10914),v=e(8029);let i=d=class extends a.Z{constructor(g){super(g),this.type="point-cloud-stretch",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new d(se(X({},this.cloneProperties()),{field:(0,c.d9)(this.field),fieldTransformType:(0,c.d9)(this.fieldTransformType),stops:(0,c.d9)(this.stops),legendOptions:(0,c.d9)(this.legendOptions)}))}};(0,o._)([(0,O.J)({pointCloudStretchRenderer:"point-cloud-stretch"})],i.prototype,"type",void 0),(0,o._)([(0,h.Cb)({json:{write:!0},type:String})],i.prototype,"field",void 0),(0,o._)([(0,h.Cb)({type:s.Z,json:{write:!0}})],i.prototype,"legendOptions",void 0),(0,o._)([(0,h.Cb)({type:a.Z.fieldTransformTypeKebabDict.apiValues,json:{type:a.Z.fieldTransformTypeKebabDict.jsonValues,read:a.Z.fieldTransformTypeKebabDict.read,write:a.Z.fieldTransformTypeKebabDict.write}})],i.prototype,"fieldTransformType",void 0),(0,o._)([(0,h.Cb)({type:[v.Z],json:{write:!0}})],i.prototype,"stops",void 0),i=d=(0,o._)([(0,f.j)("esri.renderers.PointCloudStretchRenderer")],i);const p=i},98610:(G,R,e)=>{e.d(R,{Z:()=>C});var i,o=e(17626),c=e(58817),h=e(77712),E=e(90912),O=e(55342),f=e(76898),a=e(80573),s=e(10914),v=e(91558),d=e(86810);let p=i=class extends d.wq{constructor(){super(...arguments),this.description=null,this.label=null,this.values=null,this.color=null}clone(){return new i({description:this.description,label:this.label,values:(0,c.d9)(this.values),color:(0,c.d9)(this.color)})}};(0,o._)([(0,h.Cb)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,o._)([(0,h.Cb)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,o._)([(0,h.Cb)({type:[String],json:{write:!0}})],p.prototype,"values",void 0),(0,o._)([(0,h.Cb)({type:v.Z,json:{type:[E.z8],write:!0}})],p.prototype,"color",void 0),p=i=(0,o._)([(0,f.j)("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],p);const g=p;var _;let r=_=class extends a.Z{constructor(D){super(D),this.type="point-cloud-unique-value",this.field=null,this.fieldTransformType=null,this.colorUniqueValueInfos=null,this.legendOptions=null}clone(){return new _(se(X({},this.cloneProperties()),{field:(0,c.d9)(this.field),fieldTransformType:(0,c.d9)(this.fieldTransformType),colorUniqueValueInfos:(0,c.d9)(this.colorUniqueValueInfos),legendOptions:(0,c.d9)(this.legendOptions)}))}};(0,o._)([(0,O.J)({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],r.prototype,"type",void 0),(0,o._)([(0,h.Cb)({json:{write:!0},type:String})],r.prototype,"field",void 0),(0,o._)([(0,h.Cb)({type:a.Z.fieldTransformTypeKebabDict.apiValues,json:{type:a.Z.fieldTransformTypeKebabDict.jsonValues,read:a.Z.fieldTransformTypeKebabDict.read,write:a.Z.fieldTransformTypeKebabDict.write}})],r.prototype,"fieldTransformType",void 0),(0,o._)([(0,h.Cb)({type:[g],json:{write:!0}})],r.prototype,"colorUniqueValueInfos",void 0),(0,o._)([(0,h.Cb)({type:s.Z,json:{write:!0}})],r.prototype,"legendOptions",void 0),r=_=(0,o._)([(0,f.j)("esri.renderers.PointCloudUniqueValueRenderer")],r);const C=r},22264:(G,R,e)=>{function o(f,a){return a?"xoffset"in a&&a.xoffset?Math.max(f,Math.abs(a.xoffset)):"yoffset"in a&&a.yoffset?Math.max(f,Math.abs(a.yoffset||0)):f:f}function h(f,a){return"number"==typeof f?f:f&&f.stops&&f.stops.length?function c(f){let a=0,s=0;for(let v=0;v<f.length;v++){const d=f[v].size;"number"==typeof d&&(a+=d,s++)}return a/s}(f.stops):a}function O(f){const a=f&&f.renderer,s="touch"===(f&&f.event&&f.event.pointerType)?9:6;if(!a)return s;const v="visualVariables"in a?function E(f,a){if(!a)return f;const s=a.filter(p=>"size"===p.type).map(p=>{const{maxSize:g,minSize:_}=p;return(h(g,f)+h(_,f))/2});let v=0;const d=s.length;if(0===d)return f;for(let p=0;p<d;p++)v+=s[p];const i=Math.floor(v/d);return Math.max(i,f)}(s,a.visualVariables):s;if("simple"===a.type)return o(v,a.symbol);if("unique-value"===a.type){let d=v;return a.uniqueValueInfos.forEach(i=>{d=o(d,i.symbol)}),d}if("class-breaks"===a.type){let d=v;return a.classBreakInfos.forEach(i=>{d=o(d,i.symbol)}),d}return v}e.d(R,{k:()=>O})},36859:(G,R,e)=>{e.d(R,{QM:()=>E,hy:()=>O,uI:()=>c});var o=e(21286);const c=(()=>{if(!("document"in globalThis))return()=>null;const d=document.createElement("canvas"),i=d.getContext("2d");return d.height=512,d.width=1,g=>{i.clearRect(0,0,1,d.height);const _=i.createLinearGradient(0,0,0,d.height);for(const{ratio:r,color:C}of g)_.addColorStop(Math.max(r,.001),`rgba(${C.r}, ${C.g}, ${C.b}, ${C.a})`);return i.fillStyle=_,i.fillRect(0,0,1,d.height),i.getImageData(0,0,1,d.height).data}})();function E(d,i,p,g){const{blurRadius:_,fieldOffset:r,field:C}=i,D=new Float64Array(p*g),y=function a(d){const i=Math.round(3*d),p=2*d*d,g=new Float64Array(2*i+1);for(let _=0;_<=g.length;_++)g[_]=Math.exp(-((_-i)**2)/p)/Math.sqrt(2*Math.PI)*(d/2);return g}(_),l=Math.round(3*_);let m,P=Number.NEGATIVE_INFINITY;const L=function v(d,i){return null!=d?"string"==typeof i?p=>-1*+p.readAttribute(d):p=>+p.readAttribute(d)+i:p=>1}(C,r),I=new Set;for(const x of d){const N=x.getCursor();for(;N.next();){const B=N.getObjectId();if(I.has(B))continue;I.add(B);const T=N.readLegacyPointGeometry(),U=128;if(T.x<-U||T.x>=p+U||T.y<-U||T.y>g+U)continue;const S=+L(N),b=Math.round(T.x)-l,w=Math.round(T.y)-l,Z=Math.max(0,b),W=Math.max(0,w),V=Math.min(g,Math.round(T.y)+l),K=Math.min(p,Math.round(T.x)+l);for(let F=W;F<V;F++){const Q=y[F-w];for(let H=Z;H<K;H++)m=D[F*p+H]+=Q*y[H-b]*S,m>P&&(P=m)}}}return{matrix:D.buffer,max:P}}function O(d,i,p,g,_,r){d.canvas.width=d.canvas.height=i,d.clearRect(0,0,i,i);const C=d.getImageData(0,0,i,i);p&&g&&C.data.set(new Uint8ClampedArray(function f(d,i,p,g,_){const r=new Uint32Array(d*d),C="buffer"in i?i:new Float64Array(i),D="buffer"in p?new Uint32Array(p.buffer):new Uint32Array(new Uint8Array(p).buffer),y=D.length/(_-g);for(let l=0;l<C.length;l++){const P=Math.floor((C[l]-g)*y);r[l]=D[(0,o.uZ)(P,0,D.length-1)]}return r.buffer}(i,p,g,_,r))),d.putImageData(C,0,0)}},4969:(G,R,e)=>{e.d(R,{F:()=>T});var o=e(15861),c=e(84792),h=e(62208),E=e(38811),O=e(13924),f=e(15503),a=e(2618),s=e(17626),v=e(88879),d=e(86810),i=e(77712),r=(e(85931),e(8314),e(90912),e(68653)),C=e(76898),D=e(17253),y=e(12334),l=e(92383);let m=class extends d.wq{constructor(b){super(b),this.directionLines=null,this.directionPoints=null,this.directions=null,this.route=null,this.routeName=null,this.stops=null}};(0,s._)([(0,i.Cb)({type:D.default,json:{write:!0}})],m.prototype,"directionLines",void 0),(0,s._)([(0,i.Cb)({type:D.default,json:{write:!0}})],m.prototype,"directionPoints",void 0),(0,s._)([(0,i.Cb)({type:l.Z,json:{write:!0}})],m.prototype,"directions",void 0),(0,s._)([(0,i.Cb)({type:v.Z,json:{write:!0}})],m.prototype,"route",void 0),(0,s._)([(0,i.Cb)({type:String,json:{write:!0}})],m.prototype,"routeName",void 0),(0,s._)([(0,i.Cb)({type:[v.Z],json:{write:!0}})],m.prototype,"stops",void 0),m=(0,s._)([(0,C.j)("esri.rest.support.RouteResult")],m);const P=m;function L(b){return b&&D.default.fromJSON(b).features.map(w=>w)}let I=class extends d.wq{constructor(b){super(b),this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(b,w){return L(w.barriers)}readPolylineBarriers(b){return L(b)}readPolygonBarriers(b){return L(b)}};(0,s._)([(0,i.Cb)({type:[y.Z]})],I.prototype,"messages",void 0),(0,s._)([(0,i.Cb)({type:[v.Z]})],I.prototype,"pointBarriers",void 0),(0,s._)([(0,r.r)("pointBarriers",["barriers"])],I.prototype,"readPointBarriers",null),(0,s._)([(0,i.Cb)({type:[v.Z]})],I.prototype,"polylineBarriers",void 0),(0,s._)([(0,r.r)("polylineBarriers")],I.prototype,"readPolylineBarriers",null),(0,s._)([(0,i.Cb)({type:[v.Z]})],I.prototype,"polygonBarriers",void 0),(0,s._)([(0,r.r)("polygonBarriers")],I.prototype,"readPolygonBarriers",null),(0,s._)([(0,i.Cb)({type:[P]})],I.prototype,"routeResults",void 0),I=(0,s._)([(0,C.j)("esri.rest.support.RouteSolveResult")],I);const x=I,N=(0,E.E)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},outSpatialReference:{name:"outSR",getter:b=>b.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},stops:!0,travelMode:!0});function B(b){return"esri.rest.support.FeatureSet"===(null==b?void 0:b.declaredClass)}function T(b,w,Z){return U.apply(this,arguments)}function U(){return(U=(0,o.Z)(function*(b,w,Z){const W=[],V=[],K={},F={},Q=(0,a.en)(b),{path:H}=Q;B(w.stops)&&(0,f.et)(w.stops.features,V,"stops.features",K),B(w.pointBarriers)&&(0,f.et)(w.pointBarriers.features,V,"pointBarriers.features",K),B(w.polylineBarriers)&&(0,f.et)(w.polylineBarriers.features,V,"polylineBarriers.features",K),B(w.polygonBarriers)&&(0,f.et)(w.polygonBarriers.features,V,"polygonBarriers.features",K);const re=yield(0,O.aX)(V);for(const z in K){const J=K[z];W.push(z),F[z]=re.slice(J[0],J[1])}if((0,f.Wf)(F,W)){let z=null;try{z=yield(0,f.bI)(H,w.apiKey,Z)}catch(J){}z&&!z.hasZ&&(0,f.ef)(F,W)}for(const z in F)F[z].forEach((J,q)=>{w.get(z)[q].geometry=J});const M=se(X({},Z),{query:se(X(X({},Q.query),N.toQueryParams(w)),{f:"json"})}),A=H.endsWith("/solve")?H:`${H}/solve`,{data:j}=yield(0,c.default)(A,M);return S(j)})).apply(this,arguments)}function S(b){var w,Z,W,V,K;const F=new Map,{directionLines:Q,directionPoints:H,directions:re,routes:M,stops:A,barriers:j,polygonBarriers:z,polylineBarriers:J,messages:q}=b,k=null!=(w=null!=(Z=null!=(W=null!=(V=null==M?void 0:M.spatialReference)?V:null==A?void 0:A.spatialReference)?W:null==j?void 0:j.spatialReference)?Z:null==z?void 0:z.spatialReference)?w:null==J?void 0:J.spatialReference;null==M||M.features.forEach($=>{const Y=$.attributes.Name,te=$.attributes.ObjectID;F.has(Y)?(F.get(Y).route=$,F.get(Y).routeId=te):F.set(Y,{route:$,routeId:te,routeName:Y}),(0,h.pC)($.geometry)&&($.geometry.spatialReference=k)}),null==re||re.forEach($=>{const Y=$.routeName;F.has(Y)?F.get(Y).directions=$:F.set(Y,{routeName:Y,directions:$})}),null==A||A.features.forEach($=>{var Y;const te=null!=(Y=$.attributes.RouteName)?Y:null;F.has(te)?F.get(te).stops?F.get(te).stops.push($):F.get(te).stops=[$]:F.set(te,{stops:[$],routeName:te}),(0,h.pC)($.geometry)&&($.geometry.spatialReference=k)});const ne=null==(K=null==A?void 0:A.features.every($=>null==$.attributes.RouteName))||K;if((null==A?void 0:A.features.length)>0&&ne){const $=Array.from(F.keys())[0];F.get($).stops=F.get(null).stops,F.delete(null)}null==Q||Q.features.forEach($=>{var Y;const te=$.attributes.RouteID,ee=null==(Y=Array.from(F.values()).find(ie=>ie.routeId===te))?void 0:Y.routeName;if(ee)if(F.has(ee))if(F.get(ee).directionLines)F.get(ee).directionLines.features.push($);else{const{fieldAliases:ie,geometryType:ae,spatialReference:le}=Q;F.get(ee).directionLines={features:[$],fieldAliases:ie,geometryType:ae,spatialReference:le}}else{const{fieldAliases:ie,geometryType:ae,spatialReference:le}=Q;F.set(ee,{routeName:ee,directionLines:{features:[$],fieldAliases:ie,geometryType:ae,spatialReference:le}})}}),null==H||H.features.forEach($=>{var Y;const te=$.attributes.RouteID,ee=null==(Y=Array.from(F.values()).find(ie=>ie.routeId===te))?void 0:Y.routeName;if(ee)if(F.has(ee))if(F.get(ee).directionPoints)F.get(ee).directionPoints.features.push($);else{const{fieldAliases:ie,geometryType:ae,spatialReference:le}=H;F.get(ee).directionPoints={features:[$],fieldAliases:ie,geometryType:ae,spatialReference:le}}else{const{fieldAliases:ie,geometryType:ae,spatialReference:le}=H;F.set(ee,{routeName:ee,directionPoints:{features:[$],fieldAliases:ie,geometryType:ae,spatialReference:le}})}});const oe=Array.from(F.values());return x.fromJSON({routeResults:oe,barriers:j,polygonBarriers:z,polylineBarriers:J,messages:q})}},70026:(G,R,e)=>{e.d(R,{t:()=>h});var o=e(15861),c=e(84792);function h(O,f){return E.apply(this,arguments)}function E(){return(E=(0,o.Z)(function*(O,f){const{data:a}=yield(0,c.default)(O,X({responseType:"image"},f));return a})).apply(this,arguments)}},32837:(G,R,e)=>{e.d(R,{Z:()=>f});var o=e(35909),c=e(31375),h=e(47139),E=e(80991);class f{constructor(s){this._resourceManager=s}dispose(){this._rasterizationCanvas=null}rasterizeJSONResource(s,v,d){if(this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),"simple-fill"===s.type||"esriSFS"===s.type){const[l,m,P]=o.fN.rasterizeSimpleFill(this._rasterizationCanvas,s.style,v);return{size:[m,P],image:new Uint32Array(l.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0}}if("simple-line"===s.type||"esriSLS"===s.type||"line"===s.type&&s.dashTemplate){let l,m;if("simple-line"===s.type||"esriSLS"===s.type)switch(l=(0,o.U1)(s.style,s.cap),s.cap){case"butt":m="Butt";break;case"square":m="Square";break;default:m="Round"}else l=s.dashTemplate,m=s.cim.capStyle;const[P,L,I]=o.fN.rasterizeSimpleLine(l,m);return{size:[L,I],image:new Uint32Array(P.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}let i,p,g;if("simple-marker"===s.type||"esriSMS"===s.type||"line-marker"===s.type?(i=o.B$.fromSimpleMarker(s),g=(0,h.Fp)(i)):s.cim&&"CIMHatchFill"===s.cim.type?(i=o.B$.fromCIMHatchFill(s.cim),p=new c.Z(i.frame.xmin,-i.frame.ymax,i.frame.xmax-i.frame.xmin,i.frame.ymax-i.frame.ymin)):s.cim.markerPlacement&&"CIMMarkerPlacementInsidePolygon"===s.cim.markerPlacement.type?(i=o.B$.fromCIMInsidePolygon(s.cim),p=new c.Z(i.frame.xmin,-i.frame.ymax,i.frame.xmax-i.frame.xmin,i.frame.ymax-i.frame.ymin)):(i=s.cim,g=(0,h.Fp)(i)),g&&!d){const[l,m,P]=(0,h.RL)(g);return l?{size:[m,P],image:new Uint32Array(l.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null}const[_,r,C,D,y]=o.B$.rasterize(this._rasterizationCanvas,i,p,this._resourceManager,!d);return _?{size:[r,C],image:new Uint32Array(_.buffer),sdf:!1,simplePattern:!1,anchorX:D,anchorY:y}:null}rasterizeImageResource(s,v,d,i){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),this._rasterizationCanvas.width=s,this._rasterizationCanvas.height=v;const p=this._rasterizationCanvas.getContext("2d");d instanceof ImageData?p.putImageData(d,0,0):(d.setAttribute("width",`${s}px`),d.setAttribute("height",`${v}px`),p.drawImage(d,0,0,s,v));const g=p.getImageData(0,0,s,v),_=new Uint8Array(g.data);if(i)for(const m of i)if(m&&m.oldColor&&4===m.oldColor.length&&m.newColor&&4===m.newColor.length){const[P,L,I,x]=m.oldColor,[N,B,T,U]=m.newColor;if(P===N&&L===B&&I===T&&x===U)continue;for(let S=0;S<_.length;S+=4)P===_[S]&&L===_[S+1]&&I===_[S+2]&&x===_[S+3]&&(_[S]=N,_[S+1]=B,_[S+2]=T,_[S+3]=U)}let r;for(let m=0;m<_.length;m+=4)r=_[m+3]/255,_[m]=_[m]*r,_[m+1]=_[m+1]*r,_[m+2]=_[m+2]*r;let C=_,D=s,y=v;const l=512;if(D>=l||y>=l){const m=D/y;m>1?(D=l,y=Math.round(l/m)):(y=l,D=Math.round(l*m)),C=new Uint8Array(4*D*y);const P=new Uint8ClampedArray(C.buffer);(0,E.TT)(_,s,v,P,D,y,!1)}return{size:[D,y],image:new Uint32Array(C.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}}},50998:(G,R,e)=>{e.r(R),e.d(R,{fetchSymbolFromStyle:()=>p,resolveWebStyleSymbol:()=>i});var o=e(65787),c=e(83100),h=e(26584),E=e(21726),O=e(84687),f=e(29840),a=e(65270),s=e(77345),v=e(78241),d=e(96296);function i(_,r,C,D){return _.name?_.styleName&&"Esri2DPointSymbolsStyle"===_.styleName?function g(_,r,C){const D=v.wm.replace(/\{SymbolName\}/gi,_.name);return(0,v.EJ)(D,C).then(y=>{const l=(0,v.KV)(y.data);return(0,a.im)(l,{portal:r.portal,url:(0,E.mN)((0,E.Yd)(D)),origin:"portal-item"})})}(_,r,D):(0,v.n2)(_,r,D).then(y=>p(y,_.name,r,C,D)):Promise.reject(new h.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function p(_,r,C,D,y){const l=_.data,m={portal:C&&C.portal||O.Z.getDefault(),url:(0,E.mN)(_.baseUrl),origin:"portal-item"},P=l.items.find(B=>B.name===r);if(!P)return Promise.reject(new h.Z("symbolstyleutils:symbol-name-not-found",`The symbol name '${r}' could not be found`,{symbolName:r}));let L=(0,f.f)((0,v.v9)(P,D),m),I=P.thumbnail&&P.thumbnail.href;const x=P.thumbnail&&P.thumbnail.imageData;(0,c.XO)()&&(L=(0,c.pJ)(L),I=(0,c.pJ)(I));const N={portal:C.portal,url:(0,E.mN)((0,E.Yd)(L)),origin:"portal-item"};return(0,v.EJ)(L,y).then(B=>{const T="cimRef"===D?(0,v.KV)(B.data):B.data,U=(0,a.im)(T,N);if(U&&(0,o.dU)(U)){if(I){const S=(0,f.f)(I,m);U.thumbnail=new d.p({url:S})}else x&&(U.thumbnail=new d.p({url:`data:image/png;base64,${x}`}));_.styleUrl?U.styleOrigin=new s.Z({portal:C.portal,styleUrl:_.styleUrl,name:r}):_.styleName&&(U.styleOrigin=new s.Z({portal:C.portal,styleName:_.styleName,name:r}))}return U})}},55746:(G,R,e)=>{e.d(R,{p:()=>g,k:()=>p});var o=e(65389),c=e(61885),E=(e(8314),e(62208)),O=e(76279),f=e(5548),a=e(16669),s=e(52397);function v(_,r){return _<<16|r}function d(_){return(4294901760&_)>>>16}function i(_){return 65535&_}const p={getObjectId:_=>_.getObjectId(),getAttributes:_=>_.readAttributes(),getAttribute:(_,r)=>_.readAttribute(r),cloneWithGeometry:(_,r)=>_,getGeometry:_=>_.readHydratedGeometry(),getCentroid:(_,r)=>_.readCentroid()};class g extends a.J{constructor(r,C,D){super(r,C),this.featureAdapter=p,this.events=new c.Z,this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._indexSearchCache=new o.Z(50),this._index=(0,O.r)(9,y=>({minX:this._storage.getXMin(y),minY:this._storage.getYMin(y),maxX:this._storage.getXMax(y),maxY:this._storage.getYMax(y)})),this._storage=C,this.mode=D}get storage(){return this._storage}get storeStatistics(){let r=0,C=0,D=0;return this.forEach(y=>{const l=y.readGeometry();l&&(C+=l.isPoint?1:l.lengths.reduce((m,P)=>m+P,0),D+=l.isPoint?1:l.lengths.length,r+=1)}),{featureCount:r,vertexCount:C,ringCount:D}}hasInstance(r){return this._featureSetsByInstance.has(r)}onTileData(r,C){if((0,E.Wi)(C.addOrUpdate))return C;if(C.addOrUpdate.attachStorage(this._storage),"snapshot"===this.mode){const y=C.addOrUpdate.getCursor();for(;y.next();){const l=y.getDisplayId();this.setComputedAttributes(this._storage,y,l,r.scale)}return C}this._featureSetsByInstance.set(C.addOrUpdate.instance,C.addOrUpdate);const D=C.addOrUpdate.getCursor();for(;D.next();)this._insertFeature(D,r.scale);return this._spatialIndexInvalid=!0,this.events.emit("changed"),C}search(r){this._rebuildIndex();const C=r.id,D=this._indexSearchCache.find(P=>P.tileId===C);if((0,E.pC)(D))return D.readers;const y=new Map,l=this._searchIndex(r.bounds),m=[];for(const P of l){const L=this._storage.getInstanceId(P),I=d(L),x=i(L);y.has(I)||y.set(I,[]),y.get(I).push(x)}return y.forEach((P,L)=>{const I=this._featureSetsByInstance.get(L);m.push(s.t.from(I,P))}),this._indexSearchCache.enqueue({tileId:C,readers:m}),m}insert(r){const C=r.getCursor(),D=this._storage;for(;C.next();){var y;const l=v(C.instance,C.getIndex()),m=C.getObjectId(),P=null!=(y=this._objectIdToDisplayId.get(m))?y:this._storage.createDisplayId();C.setDisplayId(P),D.setInstanceId(P,l),this._objectIdToDisplayId.set(m,P)}this._featureSetsByInstance.set(r.instance,r),this._spatialIndexInvalid=!0}remove(r){const C=this._objectIdToDisplayId.get(r);if(!C)return;const D=this._storage.getInstanceId(C),y=i(D),l=d(D),m=this._featureSetsByInstance.get(l);this._objectIdToDisplayId.delete(r),this._storage.releaseDisplayId(C),m.removeAtIndex(y),m.isEmpty&&this._featureSetsByInstance.delete(l),this._spatialIndexInvalid=!0}forEach(r){this._objectIdToDisplayId.forEach(C=>{const D=this._storage.getInstanceId(C),y=this._lookupFeature(D);r(y)})}forEachUnsafe(r){this._objectIdToDisplayId.forEach(C=>{const D=this._storage.getInstanceId(C),y=d(D),l=i(D),m=this._getFeatureSet(y);m.setIndex(l),r(m)})}forEachInBounds(r,C){const D=this._searchIndex(r);for(const y of D){const l=this.lookupFeatureByDisplayId(y,this._storage);C((0,E.Wg)(l))}}forEachBounds(r,C,D){this._rebuildIndex();const y=[0,0,0,0];for(const l of r){if(!l.readGeometry())continue;const m=l.getDisplayId();y[0]=this._storage.getXMin(m),y[1]=this._storage.getYMin(m),y[2]=this._storage.getXMax(m),y[3]=this._storage.getYMax(m),C((0,f.JR)(D,y))}}sweepFeatures(r,C,D){this._spatialIndexInvalid=!0,this._objectIdToDisplayId.forEach((y,l)=>{r.has(y)||(C.releaseDisplayId(y),D&&D.unsetAttributeData(y),this._objectIdToDisplayId.delete(l))}),this.events.emit("changed")}sweepFeatureSets(r){this._spatialIndexInvalid=!0,this._featureSetsByInstance.forEach((C,D)=>{r.has(D)||this._featureSetsByInstance.delete(D)})}lookupObjectId(r,C){const D=this.lookupFeatureByDisplayId(r,C);return(0,E.Wi)(D)?null:D.getObjectId()}lookupDisplayId(r){return this._objectIdToDisplayId.get(r)}lookupFeatureByDisplayId(r,C){const D=C.getInstanceId(r);return this._lookupFeature(D)}lookupByDisplayIdUnsafe(r){const C=this._storage.getInstanceId(r),D=d(C),y=i(C),l=this._getFeatureSet(D);return l?(l.setIndex(y),l):null}_insertFeature(r,C){const D=this._storage,y=r.getObjectId(),l=v(r.instance,r.getIndex());D.getInstanceId(r.getDisplayId());let m=this._objectIdToDisplayId.get(y);m||(m=D.createDisplayId(),this._objectIdToDisplayId.set(y,m),this._spatialIndexInvalid=!0),r.setDisplayId(m),D.setInstanceId(m,l),this.setComputedAttributes(D,r,m,C)}_searchIndex(r){return this._rebuildIndex(),this._index.search({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]})}_rebuildIndex(){if(!this._spatialIndexInvalid)return;const r=[];"snapshot"===this.mode?this._featureSetsByInstance.forEach(C=>{const D=C.getCursor();for(;D.next();){const y=D.getDisplayId();this._storage.setBounds(y,D)&&r.push(y)}}):this._objectIdToDisplayId.forEach(C=>{const D=this._storage.getInstanceId(C);this._storage.setBounds(C,this._lookupFeature(D))&&r.push(C)}),this._index.clear(),this._index.load(r),this._indexSearchCache.clear(),this._spatialIndexInvalid=!1}_lookupFeature(r){const C=d(r),D=i(r),y=this._getFeatureSet(C);if(!y)return null;const l=y.getCursor();return l.setIndex(D),l}_getFeatureSet(r){return this._featureSetsByInstance.get(r)}}},16669:(G,R,e)=>{e.d(R,{J:()=>v});var o=e(15861),c=e(8314),h=e(62208),E=e(84682),O=e(46679),f=e(63290);const s=e.e(2445).then(e.bind(e,22445));class v{constructor(i,p){this._canCacheExpressionValue=!1,this._sourceInfo=i,this._bitsets={computed:p.getBitset(p.createBitset())}}invalidate(){this._bitsets.computed.clear()}updateSchema(i,p){var g=this;return(0,o.Z)(function*(){const _=(0,E.Hg)(g._schema,p);if(g._schema=p,!p||(0,h.Wi)(_)||!(0,E.uD)(_,"attributes"))return;(0,c.Z)("esri-2d-update-debug")&&console.debug("Applying Update - Store:",_),g._bitsets.computed.clear(),i.targets[p.name]=!0;const r=p.attributes,C=[],D=[];for(const y in r){const l=r[y];switch(l.type){case"field":break;case"expression":C.push(g._createArcadeComputedField(l));break;case"label-expression":C.push(g._createLabelArcadeComputedField(l));break;case"statistic":D.push(l)}}g._computedFields=yield Promise.all(C),g._canCacheExpressionValue=!g._computedFields.some(y=>"expression"===y.type&&y.expression.referencesScale()),g._statisticFields=D})()}setComputedAttributes(i,p,g,_){const r=this._bitsets.computed;if(!this._canCacheExpressionValue||!r.has(g)){r.set(g);for(const C of this._computedFields){const D=this._evaluateField(p,C,_);switch(C.resultType){case"numeric":i.setComputedNumericAtIndex(g,C.fieldIndex,D);break;case"string":i.setComputedStringAtIndex(g,C.fieldIndex,D)}}}}_createArcadeComputedField(i){var p=this;return(0,o.Z)(function*(){const g=p._sourceInfo.spatialReference,_=p._sourceInfo.fieldsIndex;return se(X({},i),{expression:yield(0,O.Yi)(i.valueExpression,g,_)})})()}_createLabelArcadeComputedField(i){var p=this;return(0,o.Z)(function*(){const g=p._sourceInfo.spatialReference,_=p._sourceInfo.fieldsIndex,{createLabelFunction:r}=yield s,C=yield r(i.label,_,g);return se(X({},i),{builder:C})})()}_evaluateField(i,p,g){switch(p.type){case"label-expression":{const _=i.readArcadeFeature();return p.builder.evaluate(_)||""}case"expression":{const{expression:_}=p;return function a(d,i,p){d.referencesGeometry();const g=i.readArcadeFeature();try{return d.evaluate(se(X({},p),{$feature:g}))}catch(_){return f.Z.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",_),null}}(_,i,{$view:{scale:g}})}}}}},13112:(G,R,e)=>{e.d(R,{Z:()=>v});var o=e(17626),c=e(80542),h=e(77712),a=(e(85931),e(8314),e(90912),e(76898));let s=class extends c.r{initialize(){}destroy(){}get supportsTileUpdates(){return!1}get spatialReference(){const d=this.get("tileStore.tileScheme.spatialReference");return d&&d.toJSON()||null}};(0,o._)([(0,h.Cb)({readOnly:!0})],s.prototype,"supportsTileUpdates",null),(0,o._)([(0,h.Cb)({constructOnly:!0})],s.prototype,"remoteClient",void 0),(0,o._)([(0,h.Cb)({constructOnly:!0})],s.prototype,"service",void 0),(0,o._)([(0,h.Cb)()],s.prototype,"spatialReference",null),(0,o._)([(0,h.Cb)({constructOnly:!0})],s.prototype,"tileInfo",void 0),(0,o._)([(0,h.Cb)({constructOnly:!0})],s.prototype,"tileStore",void 0),s=(0,o._)([(0,a.j)("esri.views.2d.layers.features.processors.BaseProcessor")],s);const v=s},52397:(G,R,e)=>{e.d(R,{t:()=>c});var o=e(25208);class c extends o.s{constructor(E,O){super(o.s.createInstance(),E.fullSchema()),this._currentIndex=-1,this._reader=E,this._indices=O}static from(E,O){return new c(E.copy(),O)}get hasNext(){return this._currentIndex+1<this._indices.length}getSize(){return this._indices.length}getCursor(){return this.copy()}copy(){const E=new c(this._reader.copy(),this._indices);return E._currentIndex=this._currentIndex,E}next(){for(;this._nextIndex()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}_nextIndex(){return++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}setArcadeSpatialReference(E){this._reader.setArcadeSpatialReference(E)}attachStorage(E){this._reader.attachStorage(E)}get geometryType(){return this._reader.geometryType}get hasFeatures(){return this._reader.hasFeatures}get exceededTransferLimit(){return this._reader.exceededTransferLimit}get hasZ(){return this._reader.hasZ}get hasM(){return this._reader.hasM}getStorage(){return this._reader.getStorage()}getComputedNumeric(E){return this._reader.getComputedNumericAtIndex(0)}setComputedNumeric(E,O){return this._reader.setComputedNumericAtIndex(O,0)}getComputedString(E){return this._reader.getComputedStringAtIndex(0)}setComputedString(E,O){return this._reader.setComputedStringAtIndex(0,O)}getComputedNumericAtIndex(E){return this._reader.getComputedNumericAtIndex(E)}setComputedNumericAtIndex(E,O){this._reader.setComputedNumericAtIndex(E,O)}getComputedStringAtIndex(E){return this._reader.getComputedStringAtIndex(E)}setComputedStringAtIndex(E,O){return this._reader.setComputedStringAtIndex(E,O)}transform(E,O,f,a){const s=this.copy();return s._reader=this._reader.transform(E,O,f,a),s}readAttribute(E,O=!1){return this._reader.readAttribute(E,O)}readAttributes(){return this._reader.readAttributes()}joinAttributes(E){return this._reader.joinAttributes(E)}readArcadeFeature(){return this._reader.readArcadeFeature()}geometry(){return this._reader.geometry()}field(E){return this.readAttribute(E,!0)}hasField(E){return this._reader.hasField(E)}setField(E,O){return this._reader.setField(E,O)}keys(){return this._reader.keys()}castToText(){return this._reader.castToText()}getQuantizationTransform(){return this._reader.getQuantizationTransform()}getFieldNames(){return this._reader.getFieldNames()}getAttributeHash(){return this._reader.getAttributeHash()}getObjectId(){return this._reader.getObjectId()}getDisplayId(){return this._reader.getDisplayId()}setDisplayId(E){return this._reader.setDisplayId(E)}getGroupId(){return this._reader.getGroupId()}setGroupId(E){return this._reader.setGroupId(E)}getXHydrated(){return this._reader.getXHydrated()}getYHydrated(){return this._reader.getYHydrated()}getX(){return this._reader.getX()}getY(){return this._reader.getY()}setIndex(E){return this._reader.setIndex(E)}getIndex(){return this._reader.getIndex()}readLegacyFeature(){return this._reader.readLegacyFeature()}readOptimizedFeature(){return this._reader.readOptimizedFeature()}readLegacyPointGeometry(){return this._reader.readLegacyPointGeometry()}readLegacyGeometry(){return this._reader.readLegacyGeometry()}readLegacyCentroid(){return this._reader.readLegacyCentroid()}readGeometryArea(){return this._reader.readGeometryArea()}readUnquantizedGeometry(){return this._reader.readUnquantizedGeometry()}readHydratedGeometry(){return this._reader.readHydratedGeometry()}readGeometry(){return this._reader.readGeometry()}readCentroid(){return this._reader.readCentroid()}_readAttribute(E,O){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}_readAttributes(){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}}},84225:(G,R,e)=>{e.d(R,{Z:()=>v});var o=e(17626),c=e(80542),h=e(77712),a=(e(85931),e(8314),e(90912),e(76898));let s=class extends c.r{constructor(d){super(d),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(d){const i=this.createTile(d);return i.once("isReady",()=>this.notifyChange("updating")),this.tiles.set(d.id,i),i}forceAttributeTextureUpload(){}forEachTile(d){this.tiles.forEach(d)}releaseTile(d){this.tiles.delete(d.key.id),this.disposeTile(d)}isUpdating(){let d=!0;return this.tiles.forEach(i=>{d=d&&i.isReady}),!d}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};(0,o._)([(0,h.Cb)()],s.prototype,"layer",void 0),(0,o._)([(0,h.Cb)()],s.prototype,"layerView",void 0),(0,o._)([(0,h.Cb)()],s.prototype,"tileInfoView",void 0),(0,o._)([(0,h.Cb)()],s.prototype,"updating",null),s=(0,o._)([(0,a.j)("esri.views.2d.layers.features.tileRenderers.BaseTileRenderer")],s);const v=s},36275:(G,R,e)=>{e.d(R,{Z:()=>h});var o=e(39406),c=e(55051);class h extends c.Z{renderChildren(O){this.attributeView.bindTextures(O.context,!1),this.children.some(f=>f.hasData)&&(super.renderChildren(O),O.drawPhase===o.jx.MAP&&this._renderChildren(O),this.hasHighlight()&&O.drawPhase===o.jx.HIGHLIGHT&&this._renderHighlight(O),this._boundsRenderer&&this._boundsRenderer.doRender(O))}_renderHighlight(O){const{painter:f}=O,a=f.effects.highlight;a.bind(O),this._renderChildren(O,a.defines),a.draw(O),a.unbind()}}},13305:(G,R,e)=>{e.d(R,{Z:()=>p});var o=e(17626),a=(e(63290),e(90912),e(85931),e(8314),e(82255),e(76898)),s=e(39406),v=e(55051),d=e(67969);let i=class extends v.Z{renderChildren(g){if(g.drawPhase!==s.jx.HIGHLIGHT||(this.attributeView.bindTextures(g.context),!this.children.some(C=>C.hasData)))return;super.renderChildren(g);const{painter:_}=g,r=_.effects.highlight;r.bind(g),g.context.setColorMask(!0,!0,!0,!0),g.context.clear(d.lk.COLOR_BUFFER_BIT),this._renderChildren(g,r.defines.concat(["highlightAll"])),r.draw(g),r.unbind()}};i=(0,o._)([(0,a.j)("esri.views.2d.layers.support.HighlightGraphicContainer")],i);const p=i},19625:(G,R,e)=>{e.d(R,{U$:()=>O});var o=e(60479),c=e(81096);class h{constructor(a,s){this.layout=a,this.buffer="number"==typeof s?new ArrayBuffer(s*a.stride):s;for(const v of a.fieldNames){const d=a.fields.get(v);this[v]=new d.constructor(this.buffer,d.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(a,s){const v=this[a];return v&&v.elementCount===s.ElementCount&&v.elementType===s.ElementType?v:null}slice(a,s){return new h(this.layout,this.buffer.slice(a*this.stride,s*this.stride))}copyFrom(a,s,v,d){const i=this.stride;if(i%4==0){const p=new Uint32Array(a.buffer,s*i,d*i/4);new Uint32Array(this.buffer,v*i,d*i/4).set(p)}else{const p=new Uint8Array(a.buffer,s*i,d*i);new Uint8Array(this.buffer,v*i,d*i).set(p)}}}class E{constructor(){this.stride=0,this.fields=new Map,this.fieldNames=[]}vec2f(a,s){return this._appendField(a,o.Eu,s),this}vec2f64(a,s){return this._appendField(a,o.q6,s),this}vec3f(a,s){return this._appendField(a,o.ct,s),this}vec3f64(a,s){return this._appendField(a,o.fP,s),this}vec4f(a,s){return this._appendField(a,o.ek,s),this}vec4f64(a,s){return this._appendField(a,o.Cd,s),this}mat3f(a,s){return this._appendField(a,o.gK,s),this}mat3f64(a,s){return this._appendField(a,o.ey,s),this}mat4f(a,s){return this._appendField(a,o.bj,s),this}mat4f64(a,s){return this._appendField(a,o.O1,s),this}vec4u8(a,s){return this._appendField(a,o.mc,s),this}f32(a,s){return this._appendField(a,o.ly,s),this}f64(a,s){return this._appendField(a,o.oS,s),this}u8(a,s){return this._appendField(a,o.D_,s),this}u16(a,s){return this._appendField(a,o.av,s),this}i8(a,s){return this._appendField(a,o.Hz,s),this}vec2i8(a,s){return this._appendField(a,o.Vs,s),this}vec2i16(a,s){return this._appendField(a,o.or,s),this}vec2u8(a,s){return this._appendField(a,o.xA,s),this}vec4u16(a,s){return this._appendField(a,o.v6,s),this}u32(a,s){return this._appendField(a,o.Nu,s),this}_appendField(a,s,v){const d=s.ElementCount*(0,c.n1)(s.ElementType);this.fields.set(a,{size:d,constructor:s,offset:this.stride,optional:v}),this.stride+=d,this.fieldNames.push(a)}alignTo(a){return this.stride=Math.floor((this.stride+a-1)/a)*a,this}hasField(a){return this.fieldNames.indexOf(a)>=0}createBuffer(a){return new h(this,a)}createView(a){return new h(this,a)}clone(){const a=new E;return a.stride=this.stride,a.fields=new Map,this.fields.forEach((s,v)=>a.fields.set(v,s)),a.fieldNames=this.fieldNames.slice(),a.BufferType=this.BufferType,a}}function O(){return new E}},88569:(G,R,e)=>{e.d(R,{ve:()=>v,IB:()=>f,wu:()=>E,je:()=>i,j7:()=>a,Bh:()=>p});var o=e(42743),c=e(67969),h=e(2078);const E=(0,h.wK)(c.zi.SRC_ALPHA,c.zi.ONE,c.zi.ONE_MINUS_SRC_ALPHA,c.zi.ONE_MINUS_SRC_ALPHA),O=(0,h.if)(c.zi.ONE,c.zi.ONE),f=(0,h.if)(c.zi.ZERO,c.zi.ONE_MINUS_SRC_ALPHA);function a(g){return g===o.Am.FrontFace?null:g===o.Am.Alpha?f:O}const v=5e5,d={factor:-1,units:-2};function i(g){return g?d:null}function p(g,_=c.wb.LESS){return g===o.Am.NONE||g===o.Am.FrontFace?_:c.wb.LEQUAL}},91263:(G,R,e)=>{var o,c;e.d(R,{C:()=>o}),(c=o||(o={}))[c.MATERIAL=0]="MATERIAL",c[c.MATERIAL_ALPHA=1]="MATERIAL_ALPHA",c[c.MATERIAL_DEPTH=2]="MATERIAL_DEPTH",c[c.MATERIAL_NORMAL=3]="MATERIAL_NORMAL",c[c.MATERIAL_DEPTH_SHADOWMAP_ALL=4]="MATERIAL_DEPTH_SHADOWMAP_ALL",c[c.MATERIAL_HIGHLIGHT=5]="MATERIAL_HIGHLIGHT",c[c.MATERIAL_DEPTH_SHADOWMAP_DEFAULT=6]="MATERIAL_DEPTH_SHADOWMAP_DEFAULT",c[c.MATERIAL_DEPTH_SHADOWMAP_HIGHLIGHT=7]="MATERIAL_DEPTH_SHADOWMAP_HIGHLIGHT",c[c.MAX_PASS=8]="MAX_PASS"},5894:(G,R,e)=>{var o,c;e.d(R,{r:()=>o}),(c=o||(o={}))[c.INTEGRATED_MESH=0]="INTEGRATED_MESH",c[c.OPAQUE_TERRAIN=1]="OPAQUE_TERRAIN",c[c.OPAQUE_MATERIAL=2]="OPAQUE_MATERIAL",c[c.OPAQUE_PLUGIN=3]="OPAQUE_PLUGIN",c[c.TRANSPARENT_MATERIAL=4]="TRANSPARENT_MATERIAL",c[c.TRANSPARENT_PLUGIN=5]="TRANSPARENT_PLUGIN",c[c.TRANSPARENT_TERRAIN=6]="TRANSPARENT_TERRAIN",c[c.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL=7]="TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL",c[c.OCCLUDED_TERRAIN=8]="OCCLUDED_TERRAIN",c[c.OCCLUDER_MATERIAL=9]="OCCLUDER_MATERIAL",c[c.TRANSPARENT_OCCLUDER_MATERIAL=10]="TRANSPARENT_OCCLUDER_MATERIAL",c[c.OCCLUSION_PIXELS=11]="OCCLUSION_PIXELS",c[c.POSTPROCESSING_ENVIRONMENT_OPAQUE=12]="POSTPROCESSING_ENVIRONMENT_OPAQUE",c[c.POSTPROCESSING_ENVIRONMENT_TRANSPARENT=13]="POSTPROCESSING_ENVIRONMENT_TRANSPARENT",c[c.LASERLINES=14]="LASERLINES",c[c.LASERLINES_CONTRAST_CONTROL=15]="LASERLINES_CONTRAST_CONTROL",c[c.HUD_MATERIAL=16]="HUD_MATERIAL",c[c.LABEL_MATERIAL=17]="LABEL_MATERIAL",c[c.LINE_CALLOUTS=18]="LINE_CALLOUTS",c[c.LINE_CALLOUTS_HUD_DEPTH=19]="LINE_CALLOUTS_HUD_DEPTH",c[c.DRAPED_MATERIAL=20]="DRAPED_MATERIAL",c[c.DRAPED_WATER=21]="DRAPED_WATER",c[c.VOXEL=22]="VOXEL",c[c.MAX_SLOTS=23]="MAX_SLOTS"},16396:(G,R,e)=>{var o,c;e.d(R,{T:()=>o}),(c=o||(o={})).POSITION="position",c.NORMAL="normal",c.UV0="uv0",c.AUXPOS1="auxpos1",c.AUXPOS2="auxpos2",c.MAPPOS="mapPos",c.COLOR="color",c.SYMBOLCOLOR="symbolColor",c.SIZE="size",c.TANGENT="tangent",c.OFFSET="offset",c.SUBDIVISIONFACTOR="subdivisionFactor",c.COLORFEATUREATTRIBUTE="colorFeatureAttribute",c.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",c.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",c.DISTANCETOSTART="distanceToStart",c.UVMAPSPACE="uvMapSpace",c.BOUNDINGRECT="boundingRect",c.UVREGION="uvRegion",c.NORMALCOMPRESSED="normalCompressed",c.PROFILERIGHT="profileRight",c.PROFILEUP="profileUp",c.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",c.FEATUREVALUE="featureValue",c.MODELORIGINHI="modelOriginHi",c.MODELORIGINLO="modelOriginLo",c.MODEL="model",c.MODELNORMAL="modelNormal",c.INSTANCECOLOR="instanceColor",c.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",c.LOCALTRANSFORM="localTransform",c.GLOBALTRANSFORM="globalTransform",c.BOUNDINGSPHERE="boundingSphere",c.MODELORIGIN="modelOrigin",c.MODELSCALEFACTORS="modelScaleFactors",c.FEATUREATTRIBUTE="featureAttribute",c.STATE="state",c.LODLEVEL="lodLevel",c.POSITION0="position0",c.POSITION1="position1",c.NORMALA="normalA",c.NORMALB="normalB",c.COMPONENTINDEX="componentIndex",c.VARIANTOFFSET="variantOffset",c.VARIANTSTROKE="variantStroke",c.VARIANTEXTENSION="variantExtension",c.U8PADDING="u8padding",c.U16PADDING="u16padding",c.SIDENESS="sideness",c.START="start",c.END="end",c.UP="up",c.EXTRUDE="extrude"},42743:(G,R,e)=>{var o,c,h,E,O,f,a,s,v,d,i,p,g,_,r;e.d(R,{JJ:()=>g,Vr:()=>o,Gv:()=>c,CE:()=>i,MX:()=>d,Rw:()=>f,hU:()=>a,Am:()=>E}),(r=o||(o={}))[r.None=0]="None",r[r.Front=1]="Front",r[r.Back=2]="Back",r[r.COUNT=3]="COUNT",function(r){r[r.Less=0]="Less",r[r.Lequal=1]="Lequal",r[r.COUNT=2]="COUNT"}(c||(c={})),function(r){r[r.NONE=0]="NONE",r[r.SMAA=1]="SMAA"}(h||(h={})),function(r){r[r.Color=0]="Color",r[r.Alpha=1]="Alpha",r[r.FrontFace=2]="FrontFace",r[r.NONE=3]="NONE",r[r.COUNT=4]="COUNT"}(E||(E={})),function(r){r[r.BACKGROUND=0]="BACKGROUND",r[r.UPDATE=1]="UPDATE"}(O||(O={})),function(r){r[r.NOT_LOADED=0]="NOT_LOADED",r[r.LOADING=1]="LOADING",r[r.LOADED=2]="LOADED"}(f||(f={})),function(r){r[r.IntegratedMeshMaskExcluded=1]="IntegratedMeshMaskExcluded",r[r.OutlineVisualElementMask=2]="OutlineVisualElementMask"}(a||(a={})),function(r){r[r.ASYNC=0]="ASYNC",r[r.SYNC=1]="SYNC"}(s||(s={})),function(r){r[r.Highlight=0]="Highlight",r[r.MaskOccludee=1]="MaskOccludee",r[r.COUNT=2]="COUNT"}(v||(v={})),function(r){r[r.Triangle=0]="Triangle",r[r.Point=1]="Point",r[r.Line=2]="Line"}(d||(d={})),function(r){r[r.STRETCH=1]="STRETCH",r[r.PAD=2]="PAD"}(i||(i={})),function(r){r[r.CHANGED=0]="CHANGED",r[r.UNCHANGED=1]="UNCHANGED"}(p||(p={})),function(r){r[r.Blend=0]="Blend",r[r.Opaque=1]="Opaque",r[r.Mask=2]="Mask",r[r.MaskBlend=3]="MaskBlend",r[r.COUNT=4]="COUNT"}(g||(g={})),function(r){r[r.OFF=0]="OFF",r[r.ON=1]="ON"}(_||(_={}))},94672:(G,R,e)=>{e.d(R,{K:()=>O}),e(29132);var c=e(62208),h=e(16730),E=e(2004);function O(s,v,d,i=new E.Z){let p;if("2d"===d.type)p=v*d.resolution;else if("3d"===d.type){const y=d.overlayPixelSizeInMapUnits(s),l=d.basemapSpatialReference;p=(0,c.pC)(l)&&!l.equals(d.spatialReference)?(0,h.c9)(l)/(0,h.c9)(d.spatialReference):v*y}const g=s.x-p,_=s.y-p,r=s.x+p,C=s.y+p,{spatialReference:D}=d;return i.xmin=Math.min(g,r),i.ymin=Math.min(_,C),i.xmax=Math.max(g,r),i.ymax=Math.max(_,C),i.spatialReference=D,i}new E.Z},33e3:(G,R,e)=>{e.d(R,{G:()=>E});var o=e(62208);class c{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get(f,a){var s;return null==(s=this._outer.get(f))?void 0:s.get(a)}set(f,a,s){const v=this._outer.get(f);v?v.set(a,s):this._outer.set(f,new Map([[a,s]]))}delete(f,a){const s=this._outer.get(f);s&&(s.delete(a),0===s.size&&this._outer.delete(f))}forEach(f){this._outer.forEach((a,s)=>f(a,s))}}var h=e(17867);class E{constructor(f){this._rctx=f,this._store=new c}dispose(){this._store.forEach(f=>f.forEach(a=>a.dispose())),this._store.clear()}acquire(f,a,s,v){const d=this._store.get(f,a);if((0,o.pC)(d))return d.ref(),d;const i=new h.$(this._rctx,f,a,s,v);return i.ref(),this._store.set(f,a,i),i}get test(){let f=0;return this._store.forEach(a=>a.forEach(s=>f+=s.hasGLName?2:1)),{cachedWebGLObjects:f}}}},2757:(G,R,e)=>{function c(a,s,v){for(let d=0;d<v;++d)s[2*d]=a[d],s[2*d+1]=a[d]-s[2*d]}function E(a,s,v,d){for(let i=0;i<d;++i)O[0]=a[i],c(O,f,1),s[i]=f[0],v[i]=f[1]}e.d(R,{LF:()=>c,po:()=>E});const O=new Float64Array(1),f=new Float32Array(2)},80322:(G,R,e)=>{function o(c){let h="";for(const E in c){const O=c[E];if("boolean"==typeof O)O&&(h+=`#define ${E}\n`);else if("number"==typeof O)h+=`#define ${E} ${O.toFixed()}\n`;else if("object"==typeof O){const f=O.options;let a=0;for(const s in f)h+=`#define ${f[s]} ${(a++).toFixed()}\n`;h+=`#define ${E} ${f[O.value]}\n`}}return h}e.d(R,{K:()=>o})},2078:(G,R,e)=>{e.d(R,{jp:()=>re,zp:()=>a,BK:()=>v,LZ:()=>s,sm:()=>y,wK:()=>E,if:()=>h});var o=e(42743),c=e(67969);function h(M,A,j=c.db.ADD,z=[0,0,0,0]){return{srcRgb:M,srcAlpha:M,dstRgb:A,dstAlpha:A,opRgb:j,opAlpha:j,color:{r:z[0],g:z[1],b:z[2],a:z[3]}}}function E(M,A,j,z,J=c.db.ADD,q=c.db.ADD,k=[0,0,0,0]){return{srcRgb:M,srcAlpha:A,dstRgb:j,dstAlpha:z,opRgb:J,opAlpha:q,color:{r:k[0],g:k[1],b:k[2],a:k[3]}}}const O={face:c.LR.BACK,mode:c.Wf.CCW},f={face:c.LR.FRONT,mode:c.Wf.CCW},a=M=>M===o.Vr.Back?O:M===o.Vr.Front?f:null,s={zNear:0,zFar:1},v={r:!0,g:!0,b:!0,a:!0};function d(M){return P.intern(M)}function i(M){return I.intern(M)}function p(M){return N.intern(M)}function g(M){return T.intern(M)}function _(M){return S.intern(M)}function r(M){return w.intern(M)}function C(M){return W.intern(M)}function D(M){return K.intern(M)}function y(M){return Q.intern(M)}class l{constructor(A,j){this.makeKey=A,this.makeRef=j,this.interns=new Map}intern(A){if(!A)return null;const j=this.makeKey(A),z=this.interns;return z.has(j)||z.set(j,this.makeRef(A)),z.get(j)}}function m(M){return"["+M.join(",")+"]"}const P=new l(L,M=>X({__tag:"Blending"},M));function L(M){return M?m([M.srcRgb,M.srcAlpha,M.dstRgb,M.dstAlpha,M.opRgb,M.opAlpha,M.color.r,M.color.g,M.color.b,M.color.a]):null}const I=new l(x,M=>X({__tag:"Culling"},M));function x(M){return M?m([M.face,M.mode]):null}const N=new l(B,M=>X({__tag:"PolygonOffset"},M));function B(M){return M?m([M.factor,M.units]):null}const T=new l(U,M=>X({__tag:"DepthTest"},M));function U(M){return M?m([M.func]):null}const S=new l(b,M=>X({__tag:"StencilTest"},M));function b(M){return M?m([M.function.func,M.function.ref,M.function.mask,M.operation.fail,M.operation.zFail,M.operation.zPass]):null}const w=new l(Z,M=>X({__tag:"DepthWrite"},M));function Z(M){return M?m([M.zNear,M.zFar]):null}const W=new l(V,M=>X({__tag:"ColorWrite"},M));function V(M){return M?m([M.r,M.g,M.b,M.a]):null}const K=new l(F,M=>X({__tag:"StencilWrite"},M));function F(M){return M?m([M.mask]):null}const Q=new l(function H(M){return M?m([L(M.blending),x(M.culling),B(M.polygonOffset),U(M.depthTest),b(M.stencilTest),Z(M.depthWrite),V(M.colorWrite),F(M.stencilWrite)]):null},M=>({blending:d(M.blending),culling:i(M.culling),polygonOffset:p(M.polygonOffset),depthTest:g(M.depthTest),stencilTest:_(M.stencilTest),depthWrite:r(M.depthWrite),colorWrite:C(M.colorWrite),stencilWrite:D(M.stencilWrite)}));class re{constructor(A){this._pipelineInvalid=!0,this._blendingInvalid=!0,this._cullingInvalid=!0,this._polygonOffsetInvalid=!0,this._depthTestInvalid=!0,this._stencilTestInvalid=!0,this._depthWriteInvalid=!0,this._colorWriteInvalid=!0,this._stencilWriteInvalid=!0,this._stateSetters=A}setPipeline(A){(this._pipelineInvalid||A!==this._pipeline)&&(this._setBlending(A.blending),this._setCulling(A.culling),this._setPolygonOffset(A.polygonOffset),this._setDepthTest(A.depthTest),this._setStencilTest(A.stencilTest),this._setDepthWrite(A.depthWrite),this._setColorWrite(A.colorWrite),this._setStencilWrite(A.stencilWrite),this._pipeline=A),this._pipelineInvalid=!1}invalidateBlending(){this._blendingInvalid=!0,this._pipelineInvalid=!0}invalidateCulling(){this._cullingInvalid=!0,this._pipelineInvalid=!0}invalidatePolygonOffset(){this._polygonOffsetInvalid=!0,this._pipelineInvalid=!0}invalidateDepthTest(){this._depthTestInvalid=!0,this._pipelineInvalid=!0}invalidateStencilTest(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}invalidateDepthWrite(){this._depthWriteInvalid=!0,this._pipelineInvalid=!0}invalidateColorWrite(){this._colorWriteInvalid=!0,this._pipelineInvalid=!0}invalidateStencilWrite(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}_setBlending(A){this._blending=this._setSubState(A,this._blending,this._blendingInvalid,this._stateSetters.setBlending),this._blendingInvalid=!1}_setCulling(A){this._culling=this._setSubState(A,this._culling,this._cullingInvalid,this._stateSetters.setCulling),this._cullingInvalid=!1}_setPolygonOffset(A){this._polygonOffset=this._setSubState(A,this._polygonOffset,this._polygonOffsetInvalid,this._stateSetters.setPolygonOffset),this._polygonOffsetInvalid=!1}_setDepthTest(A){this._depthTest=this._setSubState(A,this._depthTest,this._depthTestInvalid,this._stateSetters.setDepthTest),this._depthTestInvalid=!1}_setStencilTest(A){this._stencilTest=this._setSubState(A,this._stencilTest,this._stencilTestInvalid,this._stateSetters.setStencilTest),this._stencilTestInvalid=!1}_setDepthWrite(A){this._depthWrite=this._setSubState(A,this._depthWrite,this._depthWriteInvalid,this._stateSetters.setDepthWrite),this._depthWriteInvalid=!1}_setColorWrite(A){this._colorWrite=this._setSubState(A,this._colorWrite,this._colorWriteInvalid,this._stateSetters.setColorWrite),this._colorWriteInvalid=!1}_setStencilWrite(A){this._stencilWrite=this._setSubState(A,this._stencilWrite,this._stencilWriteInvalid,this._stateSetters.setStencilWrite),this._stencilTestInvalid=!1}_setSubState(A,j,z,J){return(z||A!==j)&&(J(A),this._pipelineInvalid=!0),A}}}}]);